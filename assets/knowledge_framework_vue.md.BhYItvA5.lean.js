import{_ as u,I as t,c as p,o as r,j as l,J as a,a as n,w as i}from"./chunks/framework.fGi7qB65.js";const b=JSON.parse('{"title":"vue","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge/framework/vue.md","filePath":"knowledge/framework/vue.md"}'),o={name:"knowledge/framework/vue.md"};function d(c,s,h,k,g,f){const e=t("Collapse");return r(),p("div",null,[s[13]||(s[13]=l("h1",{id:"vue",tabindex:"-1"},[n("vue "),l("a",{class:"header-anchor",href:"#vue","aria-label":"Permalink to â€œvueâ€"},"â€‹")],-1)),s[14]||(s[14]=l("h3",{id:"_1-vue-åŠ¨æ€æ¸²æŸ“ç»„ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆ",tabindex:"-1"},[n("1.vue åŠ¨æ€æ¸²æŸ“ç»„ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆ "),l("a",{class:"header-anchor",href:"#_1-vue-åŠ¨æ€æ¸²æŸ“ç»„ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆ","aria-label":"Permalink to â€œ1.vue åŠ¨æ€æ¸²æŸ“ç»„ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[0]||(s[0]=[l("p",null,[l("strong",null,"æœ¬è´¨æ˜¯æ ¹æ®è™šæ‹Ÿ DOMï¼ˆVNodeï¼‰çš„ type åŠ¨æ€åˆ‡æ¢ç»„ä»¶"),n(" åŠ¨æ€ç»„ä»¶å°±æ˜¯æ ¹æ® VNode çš„ type åŠ¨æ€ patchï¼Œä¸åŒç±»å‹å°±å¸è½½æ—§ç»„ä»¶ã€æŒ‚è½½æ–°ç»„ä»¶ã€‚")],-1),l("p",null,[n("-"),l("code",null,'Vue æ¨¡æ¿ç¼–è¯‘ <component :is="currentComponent"> â†’ createVNode(currentComponent)')],-1),l("ul",null,[l("li",null,[n("å½“ currentComponent å˜åŒ–ï¼š "),l("ul",null,[l("li",null,"ç”Ÿæˆæ–°çš„ VNode"),l("li",null,"è°ƒç”¨ patch(oldVNode, newVNode)"),l("li",null,[n("å¯¹æ¯” VNode ç±»å‹ï¼š "),l("ul",null,[l("li",null,"ç±»å‹ç›¸åŒ â†’ å¤ç”¨ç»„ä»¶å®ä¾‹"),l("li",null,"ç±»å‹ä¸åŒ â†’ å¸è½½æ—§ç»„ä»¶ï¼ŒæŒ‚è½½æ–°ç»„ä»¶")])])])])],-1),l("p",null,"å¦‚æœæ˜¯å­—ç¬¦ä¸² â†’ æŸ¥æ‰¾å…¨å±€ç»„ä»¶æ³¨å†Œè¡¨ å¦‚æœæ˜¯ç»„ä»¶å¯¹è±¡ â†’ è¿”å›ç»„ä»¶æœ¬èº«",-1),l("p",null,[l("strong",null,"Vue åŠ¨æ€ç»„ä»¶å°±æ˜¯ æ ¹æ® reactive/ref çš„å€¼åŠ¨æ€ç”Ÿæˆ VNode typeï¼Œç„¶åé€šè¿‡ patch æ›´æ–°ç»„ä»¶å®ä¾‹ï¼Œkeep-alive åˆ™é€šè¿‡ç¼“å­˜å®ä¾‹ä¼˜åŒ–æŒ‚è½½å¸è½½ã€‚")],-1)])]),_:1}),s[15]||(s[15]=l("h3",{id:"_2-vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–",tabindex:"-1"},[n("2.Vue é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ– "),l("a",{class:"header-anchor",href:"#_2-vue-é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–","aria-label":"Permalink to â€œ2.Vue é¡¹ç›®å¯åšå“ªäº›æ€§èƒ½ä¼˜åŒ–â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[1]||(s[1]=[n(" - å‡å°‘ä¸å¿…è¦çš„å“åº”å¼è¿½è¸ª - ç”¨ markRaw() åŒ…è£…ä¸éœ€è¦å“åº”çš„å¯¹è±¡ - ä½¿ç”¨ shallowReactive / shallowRef é¿å…æ·±å±‚é€’å½’ä¾èµ– - ä½¿ç”¨ key ä¿è¯ç»„ä»¶å¤ç”¨æ­£ç¡® - åˆç†çš„ä½¿ç”¨æŒ‡ä»¤ - åˆç†çš„ä½¿ç”¨ v-if å’Œ v-show æŒ‡ä»¤ï¼Œé¿å…ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ - ä½¿ç”¨ v-for æ—¶ï¼Œå°½é‡æä¾›å”¯ä¸€çš„ key ï¼Œé¿å…é‡å¤æ¸²æŸ“ã€‚ - ä½¿ç”¨ v-once æŒ‡ä»¤ï¼Œåªæ¸²æŸ“ä¸€æ¬¡ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚ - ä½¿ç”¨ v-memo æŒ‡ä»¤ï¼Œå¯¹ä½¿ç”¨v-forç”Ÿæˆçš„åˆ—è¡¨è¿›è¡Œæ¸²æŸ“ä¼˜åŒ– - ç»„ä»¶ä¼˜åŒ– - åˆç†ä½¿ç”¨ keep-alive ç»„ä»¶ï¼Œç¼“å­˜ç»„ä»¶å®ä¾‹ï¼Œé¿å…é‡å¤æ¸²æŸ“ã€‚ - åˆç†åˆ’åˆ†ç»„ä»¶ï¼Œæå‡å¤ç”¨æ€§å’Œæ¸²æŸ“æ€§èƒ½ã€‚ - å“åº”å¼ä¼˜åŒ– - watchçš„ä¼˜åŒ–: é¿å…æ»¥ç”¨æ·±åº¦ç›‘å¬ï¼Œé™ä½æ€§èƒ½å¼€é”€ã€‚å¯¹äºé¢‘ç¹è§¦å‘çš„å“åº”å¼æ•°æ®å˜åŒ–ï¼Œå¯ä»¥é€šè¿‡é˜²æŠ–å’ŒèŠ‚æµä¼˜åŒ–ç›‘å¬é€»è¾‘ã€‚ - å¼‚æ­¥ç»„ä»¶æ‡’åŠ è½½ - åˆç†ä½¿ç”¨ Teleport ä¸ Suspense - å‡å°‘æ¨¡æ¿å†…å¤æ‚è®¡ç®— - ä»£ç åˆ†å‰² & æŒ‰éœ€åŠ è½½ - Tree Shaking + ç§»é™¤æ— ç”¨ä¾èµ– - æ‡’åŠ è½½ - æ¸²æŸ“åŠ  key - è™šæ‹Ÿæ»šåŠ¨ - ... ",-1)])]),_:1}),s[16]||(s[16]=l("h3",{id:"_3-nexttick-åŸç†æ˜¯ä»€ä¹ˆ",tabindex:"-1"},[n("3. nextTick åŸç†æ˜¯ä»€ä¹ˆ "),l("a",{class:"header-anchor",href:"#_3-nexttick-åŸç†æ˜¯ä»€ä¹ˆ","aria-label":"Permalink to â€œ3. nextTick åŸç†æ˜¯ä»€ä¹ˆâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[2]||(s[2]=[l("p",null,[l("strong",null,"nextTickåœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸåæ‰§è¡Œå›è°ƒï¼Œç¡®ä¿æˆ‘ä»¬èƒ½æ“ä½œåˆ°æœ€æ–°çš„ DOM çŠ¶æ€ã€‚")],-1),l("p",null,"Vue é‡‡ç”¨ å¼‚æ­¥æ‰¹é‡æ›´æ–°ç­–ç•¥ï¼š",-1),l("ul",null,[l("li",null,"æ”¶é›†æœ¬è½®æ‰€æœ‰çš„æ›´æ–°ä»»åŠ¡ï¼›"),l("li",null,"ç­‰å½“å‰â€œäº‹ä»¶å¾ªç¯â€ç»“æŸåï¼Œä¸€æ¬¡æ€§åˆ·æ–° DOMï¼›"),l("li",null,"ä¿è¯æ›´æ–°æœ€å°‘ã€æ€§èƒ½æœ€å¥½ã€‚")],-1),l("p",null,[n("Vue 3 çš„ nextTick å®é™…ä¸Šæ˜¯å°è£…äº†ä¸€ä¸ª"),l("strong",null,"å¾®ä»»åŠ¡è°ƒåº¦å™¨ï¼ˆmicrotask schedulerï¼‰"),n("ã€‚")],-1),l("div",{class:"language-"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span",null,"// Vue3 å†…éƒ¨æ ¸å¿ƒå®ç°ä¼ªä»£ç ")]),n(`
`),l("span",{class:"line"},[l("span",null,"let pending = false")]),n(`
`),l("span",{class:"line"},[l("span",null,"const queue = []")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"function queueFlush() {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  if (!pending) {")]),n(`
`),l("span",{class:"line"},[l("span",null,"    pending = true")]),n(`
`),l("span",{class:"line"},[l("span",null,"    Promise.resolve().then(flushJobs) // å¾®ä»»åŠ¡")]),n(`
`),l("span",{class:"line"},[l("span",null,"  }")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"function flushJobs() {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  pending = false")]),n(`
`),l("span",{class:"line"},[l("span",null,"  // æ‰§è¡Œ watcherã€æ¸²æŸ“ä»»åŠ¡")]),n(`
`),l("span",{class:"line"},[l("span",null,"  ...")]),n(`
`),l("span",{class:"line"},[l("span",null,"  // æ‰§è¡Œ nextTick å›è°ƒ")]),n(`
`),l("span",{class:"line"},[l("span",null,"  flushPostFlushCbs()")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"export function nextTick(cb) {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  return cb ? Promise.resolve().then(cb) : Promise.resolve()")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")])])])],-1),l("p",null,"Vue å†…éƒ¨ç»´æŠ¤äº†å¤šä¸ªâ€œä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå®ƒä»¬ä¾æ¬¡æ‰§è¡Œï¼š",-1),l("table",{tabindex:"0"},[l("thead",null,[l("tr",null,[l("th",null,"é˜Ÿåˆ—å"),l("th",null,"ä½œç”¨"),l("th",null,"ä¸¾ä¾‹")])]),l("tbody",null,[l("tr",null,[l("td",null,[l("strong",null,"job queue")]),l("td",null,"æ”¶é›†å“åº”å¼å‰¯ä½œç”¨æ›´æ–°ï¼ˆç»„ä»¶ renderã€watch å›è°ƒï¼‰"),l("td",null,"æ•°æ®å˜åŒ–åé‡æ–°æ¸²æŸ“ç»„ä»¶")]),l("tr",null,[l("td",null,[l("strong",null,"postFlushCbs")]),l("td",null,"DOM æ›´æ–°åæ‰§è¡Œ"),l("td",null,"nextTick å›è°ƒã€watch post å›è°ƒ")]),l("tr",null,[l("td",null,[l("strong",null,"microtask queue")]),l("td",null,"æœ€åº•å±‚è°ƒåº¦æœºåˆ¶"),l("td",null,"Promise.resolve().then(...)")])])],-1),l("p",null,"æ‰€ä»¥ nextTick() å®é™…æ˜¯åœ¨ DOM æ›´æ–°å®Œï¼ˆflushJobs æ‰§è¡Œåï¼‰è¢«è§¦å‘çš„ã€‚",-1),l("p",null,"å› æ­¤ nextTick() å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡çº§åˆ«çš„ç­‰å¾…ï¼›æ‰€ä»¥å®ƒæ€»æ˜¯ä¿è¯åœ¨æœ¬è½® DOM æ›´æ–°å®Œæˆåæ‰§è¡Œã€‚",-1),l("p",null,[l("strong",null,"nextTick ä¸€å®šæ¯” setTimeout å…ˆæ‰§è¡Œã€‚"),n(" å› ä¸ºï¼š")],-1),l("ul",null,[l("li",null,"nextTick åº•å±‚ç”¨çš„æ˜¯ å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰ï¼›"),l("li",null,"setTimeout å±äº å®ä»»åŠ¡ï¼ˆmacrotaskï¼‰ï¼›"),l("li",null,"åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œå¾®ä»»åŠ¡æ€»æ˜¯æ—©äºå®ä»»åŠ¡æ‰§è¡Œã€‚")],-1),l("p",null,"nextTick å›è°ƒ å†dom æ¸²æŸ“ä¹‹å, å®ä»»åŠ¡æ‰§è¡Œä¹‹å‰.",-1)])]),_:1}),s[17]||(s[17]=l("h3",{id:"_4-å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™",tabindex:"-1"},[n("4.å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™ "),l("a",{class:"header-anchor",href:"#_4-å¦‚ä½•ç»Ÿä¸€ç›‘å¬-vue-ç»„ä»¶æŠ¥é”™","aria-label":"Permalink to â€œ4.å¦‚ä½•ç»Ÿä¸€ç›‘å¬ Vue ç»„ä»¶æŠ¥é”™â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[3]||(s[3]=[n(" åœ¨ Vue 3 ä¸­ï¼Œå¯ä»¥é€šè¿‡ å…¨å±€é”™è¯¯å¤„ç†å™¨ ï¼ˆerrorHandlerï¼‰ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆä¾‹å¦‚ onErrorCaptured ï¼‰æ¥ç»Ÿä¸€ç›‘å¬å’Œå¤„ç†ç»„ä»¶ä¸­çš„é”™è¯¯. ",-1),l("ul",null,[l("li",null,"é€šè¿‡å…¨å±€é”™è¯¯å¤„ç†å™¨ app.config.errorHandler"),l("li",null,"å±€éƒ¨é”™è¯¯æ•è·ï¼ˆonErrorCapturedï¼‰"),l("li",null,"Vue åªèƒ½æ•è·ã€ŒVue è¿è¡Œæ—¶é”™è¯¯ã€ï¼Œä½†æ˜¯æœ‰äº›é”™è¯¯æ˜¯å…¨å±€ JavaScript è¿è¡Œæ—¶é”™è¯¯ï¼ˆä¾‹å¦‚å¼‚æ­¥è¯·æ±‚ã€è„šæœ¬åŠ è½½å¤±è´¥ï¼‰ã€‚éœ€è¦é…åˆæµè§ˆå™¨åŸç”Ÿé”™è¯¯ç›‘å¬")],-1)])]),_:1}),s[18]||(s[18]=l("h3",{id:"_5-ä»€ä¹ˆæ˜¯-mvvm",tabindex:"-1"},[n("5. ä»€ä¹ˆæ˜¯ MVVM "),l("a",{class:"header-anchor",href:"#_5-ä»€ä¹ˆæ˜¯-mvvm","aria-label":"Permalink to â€œ5. ä»€ä¹ˆæ˜¯ MVVMâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[4]||(s[4]=[l("p",null,"MVVMï¼ˆModel-View-ViewModelï¼‰ æ˜¯ä¸€ç§ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¶æ„æ¨¡å¼ï¼Œç”¨äºç°ä»£çš„å‰ç«¯å¼€å‘æ¡†æ¶ï¼ˆVueã€Angularï¼‰ã€‚å®ƒé€šè¿‡ æ•°æ®ç»‘å®š å’Œ è§†å›¾æ¨¡å‹ æä¾›äº†é«˜æ•ˆçš„ UI æ›´æ–°å’Œæ•°æ®åŒæ­¥æœºåˆ¶ã€‚",-1),l("p",null,"MVVM æ¨¡å¼ä¸»è¦ç”± Model ï¼ˆæ¨¡å‹ï¼‰ã€ View ï¼ˆè§†å›¾ï¼‰ã€ ViewModel ï¼ˆè§†å›¾æ¨¡å‹ï¼‰ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚",-1),l("p",null,"Modelè¡¨ç¤ºç¨‹åºçš„æ ¸å¿ƒæ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œå®ƒä¸å…³å¿ƒç”¨æˆ·ç•Œé¢ï¼Œåªè´Ÿè´£æ•°æ®çš„è·å–ã€å­˜å‚¨å’Œå¤„ç†ï¼Œå¹¶æä¾›ä¸å¤–ç•Œäº¤äº’çš„æ¥å£ã€‚ Viewè´Ÿè´£å±•ç¤ºæ•°æ®å’Œç”¨æˆ·äº¤äº’ï¼Œç®€å•æ¥è¯´ä»–å°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„UI ç»„ä»¶æˆ– HTML é¡µé¢ã€‚ ViewModelæ˜¯è¿æ¥ View å’Œ Model çš„æ¡¥æ¢ï¼Œå®ƒä¸ç›´æ¥æ“ä½œè§†å›¾æˆ–æ¨¡å‹ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®ç»‘å®šå°†ä¸¤è€…è¿æ¥èµ·æ¥ã€‚",-1),l("p",null,[l("strong",null,"MVVMï¼šè®©æ•°æ®å’Œè§†å›¾è‡ªåŠ¨åŒæ­¥ï¼ˆåŒå‘ç»‘å®šï¼‰")],-1),l("p",null,"React æ˜¯ä¸€ç§ UI å£°æ˜å¼æ¸²æŸ“çš„ View å±‚åº“ï¼Œæ ¸å¿ƒæ˜¯ å‡½æ•°å¼ + å•å‘æ•°æ®æµã€‚ Vue æ˜¯ MVVM æ¨¡å‹",-1),l("table",{tabindex:"0"},[l("thead",null,[l("tr",null,[l("th",null,"å¯¹æ¯”é¡¹"),l("th",null,"Vue (MVVM)"),l("th",null,"React (View + State)")])]),l("tbody",null,[l("tr",null,[l("td",null,"æ•°æ®æµ"),l("td",null,"åŒå‘ç»‘å®š"),l("td",null,"å•å‘æ•°æ®æµ")]),l("tr",null,[l("td",null,"ç»‘å®šæ–¹å¼"),l("td",null,[l("code",null,"v-model"),n(" è‡ªåŠ¨åŒæ­¥")]),l("td",null,[n("æ‰‹åŠ¨ "),l("code",null,"onChange"),n(" + "),l("code",null,"setState")])]),l("tr",null,[l("td",null,"å“åº”ç³»ç»Ÿ"),l("td",null,"Proxy å“åº”å¼è¿½è¸ª"),l("td",null,[n("è°ƒç”¨ "),l("code",null,"setState"),n(" è§¦å‘é‡æ–°æ¸²æŸ“")])]),l("tr",null,[l("td",null,"å“²å­¦æ€æƒ³"),l("td",null,"å£°æ˜å¼ + å“åº”å¼"),l("td",null,"å‡½æ•°å¼ + çº¯ UI æ¸²æŸ“")]),l("tr",null,[l("td",null,"æ¡†æ¶å®šä½"),l("td",null,"å®Œæ•´ MVVM æ¡†æ¶"),l("td",null,"UI åº“ï¼ˆView å±‚ï¼‰")])])],-1)])]),_:1}),s[19]||(s[19]=l("h3",{id:"_6-vue-ç»„ä»¶åˆå§‹åŒ–çš„å„ä¸ªé˜¶æ®µéƒ½åšäº†ä»€ä¹ˆ",tabindex:"-1"},[n("6. Vue ç»„ä»¶åˆå§‹åŒ–çš„å„ä¸ªé˜¶æ®µéƒ½åšäº†ä»€ä¹ˆï¼Ÿ "),l("a",{class:"header-anchor",href:"#_6-vue-ç»„ä»¶åˆå§‹åŒ–çš„å„ä¸ªé˜¶æ®µéƒ½åšäº†ä»€ä¹ˆ","aria-label":"Permalink to â€œ6. Vue ç»„ä»¶åˆå§‹åŒ–çš„å„ä¸ªé˜¶æ®µéƒ½åšäº†ä»€ä¹ˆï¼Ÿâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[5]||(s[5]=[l("p",null,"ä»ç»„ä»¶çš„åˆ›å»ºåˆ°æŒ‚è½½åˆ°é¡µé¢ï¼Œå†åˆ°ç»„ä»¶çš„æ›´æ–°å’Œé”€æ¯ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç‰¹å®šçš„ä»»åŠ¡å’ŒèŒè´£ã€‚",-1),l("p",null,"ğŸ¯ ç»„ä»¶å®ä¾‹åˆ›å»ºï¼šå½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢æ—¶ï¼ŒVueåˆ›å»ºç»„ä»¶å®ä¾‹ï¼Œè§£æpropsã€dataã€methodsç­‰å±æ€§æ–¹æ³•ï¼Œåœ¨ç»„åˆå¼APIä¸­ï¼Œæ‰§è¡Œ setup()ã€‚",-1),l("p",null,"ğŸ¯ å“åº”å¼ç³»ç»Ÿå»ºç«‹ï¼šåŸºäº Proxy å®ç° reactiveã€refï¼Œå»ºç«‹ä¾èµ–æ”¶é›†å’Œè§¦å‘æ›´æ–°æœºåˆ¶ï¼Œprops ä¼ é€’æ—¶è‡ªåŠ¨å“åº”å¼å¤„ç†ã€‚",-1),l("p",null,"ğŸ¯ æ¨¡æ¿ç¼–è¯‘ä¸æ¸²æŸ“ï¼šå°† template ç¼–è¯‘ä¸ºæ¸²æŸ“å‡½æ•°ï¼ŒVue 3 é€šè¿‡ é™æ€æå‡ç­‰æ–¹å¼ä¼˜åŒ–æ€§èƒ½ï¼ŒVite é¢„ç¼–è¯‘ SFCï¼ˆå•æ–‡ä»¶ç»„ä»¶ï¼‰ã€‚",-1),l("p",null,"ğŸ¯ DOM æŒ‚è½½ï¼šæ‰§è¡Œæ¸²æŸ“å‡½æ•°ç”Ÿæˆ VNodeï¼Œé€šè¿‡ Patch ç®—æ³• è½¬æ¢ä¸ºçœŸå® DOM å¹¶æ’å…¥é¡µé¢ï¼ŒåŒæ—¶åˆå§‹åŒ–å­ç»„ä»¶ã€‚mountedï¼ˆOptions APIï¼‰æˆ– onMountedï¼ˆComposition APIï¼‰è§¦å‘ï¼Œå¯è¿›è¡Œ DOM æ“ä½œã€‚",-1),l("p",null,"ğŸ¯ å“åº”å¼æ›´æ–°ï¼šçŠ¶æ€å˜æ›´è§¦å‘ Diff ç®—æ³• è®¡ç®—æœ€å° DOM æ›´æ–°ï¼ŒbeforeUpdateã€updatedï¼ˆOptions APIï¼‰æˆ– onBeforeUpdateã€onUpdatedï¼ˆComposition APIï¼‰æ‰§è¡Œç›¸åº”é€»è¾‘ã€‚",-1),l("p",null,"ğŸ¯ ç»„ä»¶é”€æ¯ï¼šç§»é™¤ DOMï¼Œæ¸…ç†å‰¯ä½œç”¨ï¼ˆè§£ç»‘äº‹ä»¶ã€é”€æ¯ watcherã€æ¸…ç† effectï¼‰ï¼Œé€’å½’å¸è½½å­ç»„ä»¶ï¼Œè§¦å‘ beforeUnmountã€unmountedï¼ˆOptions APIï¼‰æˆ– onBeforeUnmountã€onUnmountedï¼ˆComposition APIï¼‰ã€‚",-1)])]),_:1}),s[20]||(s[20]=l("h3",{id:"_7-vue3-å¦‚ä½•å®ç°åŒå‘æ•°æ®ç»‘å®š",tabindex:"-1"},[n("7.Vue3 å¦‚ä½•å®ç°åŒå‘æ•°æ®ç»‘å®š "),l("a",{class:"header-anchor",href:"#_7-vue3-å¦‚ä½•å®ç°åŒå‘æ•°æ®ç»‘å®š","aria-label":"Permalink to â€œ7.Vue3 å¦‚ä½•å®ç°åŒå‘æ•°æ®ç»‘å®šâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[6]||(s[6]=[l("p",null,[l("strong",null,"Vue å®ç°åŒå‘æ•°æ®ç»‘å®šçš„æ ¸å¿ƒæ˜¯é€šè¿‡å“åº”å¼ç³»ç»Ÿçš„ æ•°æ®åŠ«æŒå’Œ è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ã€‚")],-1),l("p",null,"Vue3 å®ç°åŒå‘ç»‘å®šçš„æœ¬è´¨æ˜¯è¿™ä¸‰å±‚ï¼š æ•°æ®å±‚ï¼ˆModelï¼‰ â†â†’ å“åº”å¼ç³»ç»Ÿï¼ˆReactivityï¼‰ â†â†’ è§†å›¾å±‚ï¼ˆViewï¼‰",-1),l("p",null,"å®ƒä¸»è¦ä¾èµ–ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š",-1),l("ul",null,[l("li",null,"Proxy + Reflect â€”â€” æ•°æ®åŠ«æŒï¼ˆå“åº”å¼è¿½è¸ªï¼‰"),l("li",null,"ä¾èµ–æ”¶é›†ä¸è§¦å‘æ›´æ–°ï¼ˆeffect + schedulerï¼‰"),l("li",null,"æ¨¡æ¿ç¼–è¯‘ç”Ÿæˆ getter/setter æ›´æ–°é€»è¾‘")],-1),l("p",null,"æ•°æ®åŠ«æŒï¼šreactive() / ref() Proxy/Reflect get æ—¶ä¾èµ–æ”¶é›†, set æ—¶è§¦å‘æ›´æ–°",-1),l("ul",null,[l("li",null,"track()ï¼šè®°å½•å½“å‰å‰¯ä½œç”¨ï¼ˆwatchEffectã€render ç­‰ï¼‰ä¾èµ–äº†å“ªä¸ªæ•°æ®ï¼›"),l("li",null,"trigger()ï¼šæ•°æ®å˜æ›´æ—¶ï¼Œé‡æ–°è¿è¡Œä¾èµ–çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆæ›´æ–°è§†å›¾ï¼‰ã€‚")],-1),l("p",null,"Vue3 çš„åŒå‘ç»‘å®šæœ¬è´¨æ˜¯ï¼š",-1),l("ul",null,[l("li",null,"é€šè¿‡ Proxy åŠ«æŒæ•°æ® å®ç°å“åº”å¼è¿½è¸ªï¼›"),l("li",null,"é€šè¿‡ effect ä¾èµ–æ”¶é›†ä¸è§¦å‘æœºåˆ¶ å®ç°è‡ªåŠ¨æ›´æ–°ï¼›"),l("li",null,"é€šè¿‡ v-model è¯­æ³•ç³– + äº‹ä»¶æœºåˆ¶ å®ç°è§†å›¾ â†” æ•°æ®åŒæ­¥ã€‚")],-1),l("p",null,"Proxy çš„ç¼ºç‚¹:",-1),l("ul",null,[l("li",null,[n("å¯¹æ•°ç»„çš„ä¸€äº›è¾¹ç•Œé—®é¢˜ "),l("ul",null,[l("li",null,"æ•°ç»„ç´¢å¼•è¶Šç•Œä¿®æ”¹æ— æ•ˆ"),l("li",null,"éƒ¨åˆ†åŸç”Ÿæ–¹æ³•ä¸è§¦å‘æ›´æ–°")])]),l("li",null,[n("æ€§èƒ½é—®é¢˜ "),l("ul",null,[l("li",null,"åµŒå¥—éå¸¸æ·±çš„å¯¹è±¡,ä¾èµ–æ”¶é›†å’Œè§¦å‘ä¾ç„¶æœ‰å¼€é”€")])]),l("li",null,[n("Proxy ä¸æ”¯æŒåŸå§‹ç±»å‹ "),l("ul",null,[l("li",null,"ref æ˜¯å°è£…valueçš„å¯¹è±¡")])])],-1)])]),_:1}),s[21]||(s[21]=l("h3",{id:"_8-vue-æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹",tabindex:"-1"},[n("8.Vue æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹ "),l("a",{class:"header-anchor",href:"#_8-vue-æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹","aria-label":"Permalink to â€œ8.Vue æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[7]||(s[7]=[l("p",null,[l("strong",null,"æ¨¡æ¿è§£æã€ASTä¼˜åŒ– å’Œ ä»£ç ç”Ÿæˆ")],-1),l("div",{class:"language-"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span",null,"æ¨¡æ¿å­—ç¬¦ä¸² (template)")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"[1] è§£æï¼ˆParseï¼‰ â†’ ç”Ÿæˆ AST")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"[2] è½¬æ¢ï¼ˆTransformï¼‰ â†’ ä¼˜åŒ–ã€é™æ€æ ‡è®°ã€æŒ‡ä»¤å¤„ç†")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"[3] ç”Ÿæˆï¼ˆGenerateï¼‰ â†’ è¾“å‡ºå¯æ‰§è¡Œçš„ render å‡½æ•°")])])])],-1),l("ol",null,[l("li",null,"æ¨¡æ¿è§£æ: Vue ä½¿ç”¨å…¶è§£æå™¨å°† HTML æ¨¡æ¿è½¬æ¢ä¸º æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒVue ä¼šåˆ†ææ¨¡æ¿ä¸­çš„æ ‡ç­¾ã€å±æ€§å’ŒæŒ‡ä»¤ï¼Œç”Ÿæˆä¸€é¢—æ ‘å½¢ç»“æ„ã€‚æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºæ¨¡æ¿ä¸­çš„ä¸€ä¸ªå…ƒç´ æˆ–å±æ€§ã€‚"),l("li",null,"ASTä¼˜åŒ–: Vue åœ¨ç”Ÿæˆæ¸²æŸ“å‡½æ•°å‰ï¼Œä¼šå¯¹ AST è¿›è¡Œä¼˜åŒ–ã€‚ä¼˜åŒ–çš„æ ¸å¿ƒç›®æ ‡æ˜¯æ ‡è®° é™æ€èŠ‚ç‚¹ï¼Œåœ¨æ¸²æŸ“æ—¶ï¼ŒVue å¯ä»¥è·³è¿‡è¿™äº›é™æ€èŠ‚ç‚¹ï¼Œæå‡æ€§èƒ½ã€‚ è¿˜æœ‰åŠ¨æ€æ ‡è®°."),l("li",null,"ä»£ç ç”Ÿæˆ: ç”Ÿæˆæ¸²æŸ“å‡½æ•°æ˜¯ç¼–è¯‘çš„æœ€ç»ˆé˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µä¼šå°†ä¼˜åŒ–åçš„ AST è½¬æ¢æˆ JavaScript æ¸²æŸ“å‡½æ•°ã€‚")],-1)])]),_:1}),s[22]||(s[22]=l("h3",{id:"_9-vue-å¼‚æ­¥æ›´æ–°",tabindex:"-1"},[n("9. vue å¼‚æ­¥æ›´æ–° "),l("a",{class:"header-anchor",href:"#_9-vue-å¼‚æ­¥æ›´æ–°","aria-label":"Permalink to â€œ9. vue å¼‚æ­¥æ›´æ–°â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[8]||(s[8]=[l("p",null,"Vue ä¼šå»¶è¿Ÿæ›´æ–° DOMï¼Œç­‰åŒä¸€è½®äº‹ä»¶å¾ªç¯ä¸­æ‰€æœ‰çŠ¶æ€æ”¹åŠ¨éƒ½å®Œæˆåï¼Œå†ç»Ÿä¸€æ‰§è¡Œæ›´æ–°ã€‚",-1),l("p",null,"ç›®çš„ï¼š âœ… é¿å…é¢‘ç¹çš„ DOM é‡ç»˜ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰ âœ… ä¿è¯å¤šæ¬¡ä¿®æ”¹åªæ¸²æŸ“ä¸€æ¬¡ï¼ˆæ‰¹é‡æ›´æ–°ï¼‰ âœ… æ•°æ®ä¸€è‡´æ€§ï¼šç¡®ä¿åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­çš„æ‰€æœ‰æ•°æ®å˜æ›´åï¼Œè§†å›¾ä¸€æ¬¡æ€§æ›´æ–°åˆ°æœ€ç»ˆçŠ¶æ€ã€‚",-1),l("div",{class:"language-"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span",null,"æ•°æ®å˜åŒ–ï¼ˆProxy.setï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"è§¦å‘ä¾èµ–ï¼ˆtriggerï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"æ´¾å‘æ›´æ–°ä»»åŠ¡ï¼ˆscheduler â†’ queueJobï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"è¿›å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå¾®ä»»åŠ¡ï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"æ‰¹é‡æ‰§è¡Œæ›´æ–°ï¼ˆflushJobsï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"       â†“")]),n(`
`),l("span",{class:"line"},[l("span",null,"é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼ˆpatch â†’ diff â†’ DOM æ›´æ–°ï¼‰")])])])],-1),l("p",null,[l("strong",null,"å“åº”å¼æ•°æ®å˜åŒ– â†’ è§¦å‘ä¾èµ– effect â†’ å°†æ›´æ–°ä»»åŠ¡åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— â†’ æ‰¹é‡åˆ·æ–°æ¸²æŸ“ã€‚")],-1)])]),_:1}),s[23]||(s[23]=l("h3",{id:"_10-vue-watch-computed-çš„åŒºåˆ«",tabindex:"-1"},[n("10. vue watch computed çš„åŒºåˆ« "),l("a",{class:"header-anchor",href:"#_10-vue-watch-computed-çš„åŒºåˆ«","aria-label":"Permalink to â€œ10. vue watch computed çš„åŒºåˆ«â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[9]||(s[9]=[l("table",{tabindex:"0"},[l("thead",null,[l("tr",null,[l("th",null,"ç‰¹æ€§"),l("th",null,[l("code",null,"computed")]),l("th",null,[l("code",null,"watch")])])]),l("tbody",null,[l("tr",null,[l("td",null,"ç›®çš„ / è¯­ä¹‰"),l("td",null,"ç”¨äºå£°æ˜å¼åœ° â€œä»çŠ¶æ€æ¨å¯¼ / æ´¾ç”Ÿâ€ ä¸€ä¸ªå“åº”å¼çš„æ–°å€¼"),l("td",null,"ç”¨äºç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œæ‰§è¡Œå‰¯ä½œç”¨é€»è¾‘ï¼ˆå¦‚ API è¯·æ±‚ã€æ—¥å¿—ã€æ‰‹åŠ¨ä¿®æ”¹ç­‰ï¼‰")]),l("tr",null,[l("td",null,"ç¼“å­˜ / é‡ç®—"),l("td",null,"æœ‰ç¼“å­˜æœºåˆ¶ï¼Œåªæœ‰ä¾èµ–å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—"),l("td",null,"æ¯æ¬¡è¢«ç›‘å¬çš„æºå˜åŒ–æ—¶ï¼Œå›è°ƒéƒ½ä¼šæ‰§è¡Œï¼ˆæ— ç¼“å­˜ï¼‰")]),l("tr",null,[l("td",null,"å»¶è¿Ÿ / æƒ°æ€§"),l("td",null,"æƒ°æ€§æ±‚å€¼ â€”â€” åªæœ‰åœ¨è¢«è®¿é—®æ—¶æ‰è®¡ç®—"),l("td",null,[n("ç«‹å³è§¦å‘ï¼ˆå¯é…ç½® "),l("code",null,"immediate: true"),n("ï¼‰")])]),l("tr",null,[l("td",null,"å‰¯ä½œç”¨èƒ½åŠ›"),l("td",null,"ä¸æ¨èåœ¨ computed ä¸­å†™å‰¯ä½œç”¨ï¼ˆåº”ä¿æŒçº¯å‡½æ•°ï¼‰"),l("td",null,"æ­£æ˜¯ç”¨æ¥æ‰§è¡Œå‰¯ä½œç”¨çš„åœºæ™¯ï¼Œå¦‚å¼‚æ­¥æ“ä½œã€çŠ¶æ€åŒæ­¥ã€DOM æ“ä½œç­‰")]),l("tr",null,[l("td",null,"è¾“å…¥ / è¾“å‡º"),l("td",null,"é€šå¸¸æ˜¯åŒæ­¥é€»è¾‘ï¼Œè¿”å›å€¼ç»™æ¨¡æ¿æˆ–å…¶ä»–è®¡ç®—ä½¿ç”¨"),l("td",null,"å›è°ƒå¯æ¥æ”¶æ–°å€¼å’Œæ—§å€¼ï¼Œæ‰§è¡Œä»»æ„å¤æ‚é€»è¾‘")]),l("tr",null,[l("td",null,"ä¾èµ–è·Ÿè¸ª"),l("td",null,"è‡ªåŠ¨è¿½è¸ªå†…éƒ¨è®¿é—®çš„å“åº”å¼å˜é‡ä½œä¸ºä¾èµ–"),l("td",null,"æ˜ç¡®æŒ‡å®šè¢«ç›‘å¬çš„å“åº”å¼æºï¼ˆref / reactive / getter ç­‰ï¼‰")]),l("tr",null,[l("td",null,"æ˜¯å¦èƒ½ç›‘å¬æ·±å±‚å¯¹è±¡ /æ•°ç»„"),l("td",null,[n("é»˜è®¤æµ…ä¾èµ–ï¼›å¯¹äºæ·±å±‚åµŒå¥—éœ€è¦ç”¨ "),l("code",null,"computed(() => JSON.stringify(...))"),n(" ç­‰æŠ€å·§")]),l("td",null,[n("å¯è®¾ç½® "),l("code",null,"deep: true"),n(" ç›‘å¬åµŒå¥—å±æ€§å˜åŒ–")])]),l("tr",null,[l("td",null,"é€‚åˆåœºæ™¯"),l("td",null,"è®¡ç®—å±æ€§ã€æ´¾ç”ŸçŠ¶æ€ã€æ¨¡æ¿ç»‘å®šç­‰"),l("td",null,"å¼‚æ­¥é€»è¾‘ã€æ•°æ®æ‹‰å–ã€æ¡ä»¶è§¦å‘ã€æ¸…ç†å‰¯ä½œç”¨ã€è§‚å¯ŸçŠ¶æ€å˜åŒ–ç­‰")])])],-1),l("p",null,"åŸç†:",-1),l("ul",null,[l("li",null,[l("p",null,"computed åº•å±‚æ˜¯ç”¨ Vue çš„å“åº”å¼ç³»ç»Ÿï¼ˆeffect + ä¾èµ–æ”¶é›†ï¼‰åŒ…è£…çš„â€œç¼“å­˜ getterâ€æœºåˆ¶ã€‚åªæœ‰å…¶å†…éƒ¨ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰é‡æ–°æ‰§è¡Œè®¡ç®—ã€‚")]),l("li",null,[l("p",null,"watch åˆ™æ˜¯ä¸€ä¸ªé«˜é˜¶å°è£…ï¼Œè®©ä½ ç›‘å¬æŸä¸ªå“åº”å¼æºçš„å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–æ—¶æ‰§è¡Œå›è°ƒã€‚å®ƒä¸ä¼šç¼“å­˜å›è°ƒçš„ç»“æœï¼Œä¹Ÿä¸ä¼šé˜»æ­¢é‡å¤è°ƒç”¨ã€‚")])],-1)])]),_:1}),s[24]||(s[24]=l("h3",{id:"_11-vue3-lis",tabindex:"-1"},[n("11. vue3 lis "),l("a",{class:"header-anchor",href:"#_11-vue3-lis","aria-label":"Permalink to â€œ11. vue3 lisâ€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[10]||(s[10]=[l("p",null,"LIS åœ¨ Diff ä¸­çš„ä½œç”¨ï¼šæ‰¾å‡ºä¸éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹ï¼Œæœ€å°åŒ– DOM æ“ä½œ",-1),l("ul",null,[l("li",null,[l("ol",null,[l("li",null,"å°†æ–°èŠ‚ç‚¹æ˜ å°„åˆ°æ—§èŠ‚ç‚¹ç´¢å¼•åºåˆ—")])]),l("li",null,[l("ol",{start:"2"},[l("li",null,"æ±‚æœ€é•¿é€’å¢å­åºåˆ—ï¼ˆLISï¼‰")])]),l("li",null,[l("ol",{start:"3"},[l("li",null,"é LIS èŠ‚ç‚¹ç§»åŠ¨æˆ–åˆ›å»º")])])],-1),l("p",null,"èƒ½å¤Ÿé™ä½æ—¶é—´å¤æ‚åº¦;å¤§å‹è¡¨æ ¼ã€æ ‘ç»“æ„ã€è™šæ‹Ÿåˆ—è¡¨å’Œç§»åŠ¨é¢‘ç¹ä½†å¤§éƒ¨åˆ†èŠ‚ç‚¹ä¸å˜çš„åœºæ™¯, æ•ˆæœå¥½.",-1)])]),_:1}),s[25]||(s[25]=l("h3",{id:"_12-vue3-ç±»ä¼¼react-hooksçš„åŸç†æ˜¯ä»€ä¹ˆ",tabindex:"-1"},[n("12. vue3 ç±»ä¼¼react hooksçš„åŸç†æ˜¯ä»€ä¹ˆ? "),l("a",{class:"header-anchor",href:"#_12-vue3-ç±»ä¼¼react-hooksçš„åŸç†æ˜¯ä»€ä¹ˆ","aria-label":"Permalink to â€œ12. vue3 ç±»ä¼¼react hooksçš„åŸç†æ˜¯ä»€ä¹ˆ?â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[11]||(s[11]=[l("p",null,"Composition APIï¼ˆç»„åˆå¼ APIï¼‰ã€‚ è™½ç„¶å®ƒä»¬åœ¨ç›®çš„ï¼ˆè§£å†³çŠ¶æ€é€»è¾‘å¤ç”¨ã€ç»„ç»‡ä»£ç ï¼‰ä¸Šéå¸¸ç›¸ä¼¼ï¼Œä½†å®ƒä»¬çš„æ ¸å¿ƒå®ç°åŸç†å®Œå…¨ä¸åŒã€‚",-1),l("ul",null,[l("li",null,"React Hooks çš„åŸç†ï¼šåŸºäºâ€œè°ƒç”¨é¡ºåºâ€å’Œâ€œé“¾è¡¨â€"),l("li",null,"Vue Composition API çš„åŸç†ï¼šåŸºäºâ€œå“åº”å¼ç³»ç»Ÿâ€å’Œâ€œä¾èµ–è¿½è¸ªâ€")],-1),l("p",null,"React Hooks çš„æ ¸å¿ƒåŸç†:",-1),l("ul",null,[l("li",null,"æ ¸å¿ƒæœºåˆ¶ï¼šåŸºäºâ€œè°ƒç”¨é¡ºåºâ€"),l("li",null,"è¿è¡Œæ–¹å¼ï¼š React ç»„ä»¶çš„å‡½æ•°ä½“åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šé‡æ–°æ‰§è¡Œã€‚")],-1),l("p",null,[n("React åœ¨å†…éƒ¨ä¸ºæ¯ä¸ªç»„ä»¶å®ä¾‹ç»´æŠ¤äº†ä¸€ä¸ª"),l("strong",null,"ç‰¹æ®Šæ•°æ®ç»“æ„ï¼ˆå¯ä»¥æƒ³è±¡æˆä¸€ä¸ªæ•°ç»„æˆ–é“¾è¡¨ï¼‰"),n("æ¥å­˜å‚¨ Hooks çš„çŠ¶æ€ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React Hooks æœ‰ä¸¥æ ¼çš„â€œè§„åˆ™â€ï¼š")],-1),l("ul",null,[l("li",null,"ä¸èƒ½åœ¨æ¡ä»¶ï¼ˆifï¼‰æˆ–å¾ªç¯ï¼ˆforï¼‰ä¸­è°ƒç”¨ Hooksã€‚"),l("li",null,"å¿…é¡»åœ¨å‡½æ•°é¡¶å±‚è°ƒç”¨")],-1),l("p",null,"Vue Composition API çš„æ ¸å¿ƒåŸç†: Vue çš„åŸç†åˆ™å®Œå…¨ä¸åŒï¼Œå®ƒä¸ä¾èµ–äºâ€œè°ƒç”¨é¡ºåºâ€ï¼Œå› æ­¤æ²¡æœ‰ React Hooks çš„é‚£äº›é™åˆ¶ã€‚",-1),l("ul",null,[l("li",null,"æ ¸å¿ƒæœºåˆ¶ï¼šåŸºäºâ€œå“åº”å¼ç³»ç»Ÿâ€ï¼ˆReactivity Systemï¼‰"),l("li",null,"è¿è¡Œæ–¹å¼ï¼š setup() å‡½æ•°åœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶åªæ‰§è¡Œä¸€æ¬¡ã€‚")],-1),l("p",null,"Vue 3 çš„å“åº”å¼ç³»ç»Ÿæ˜¯ç‹¬ç«‹äºç»„ä»¶çš„ã€‚å½“ä½ è°ƒç”¨ ref æˆ– reactive æ—¶ï¼Œä½ åˆ›å»ºçš„æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ã€å¯è¢«è¿½è¸ªçš„å“åº”å¼å¯¹è±¡ã€‚",-1),l("p",null,"setup() åªæ‰§è¡Œä¸€æ¬¡ è¿™æ˜¯ä¸ React çš„æœ€å¤§åŒºåˆ«ã€‚",-1),l("ul",null,[l("li",null,"React çš„å‡½æ•°ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–°æ‰§è¡Œï¼Œæ‰€ä»¥å®ƒéœ€è¦â€œè°ƒç”¨é¡ºåºâ€æ¥æ‰¾å›çŠ¶æ€ã€‚"),l("li",null,"Vue çš„ setup() åªåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚")],-1),l("p",null,[l("strong",null,"ref å’Œ reactive åˆ›å»ºçš„çŠ¶æ€åªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œç„¶åè¢«é—­åŒ…å¼•ç”¨ï¼Œå®ƒä»¬åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½æ˜¯æŒä¹…çš„ã€‚")],-1),l("table",{tabindex:"0"},[l("thead",null,[l("tr",null,[l("th",null,"ç‰¹æ€§"),l("th",null,"React Hooks"),l("th",null,"Vue Composition API")])]),l("tbody",null,[l("tr",null,[l("td",null,"æ ¸å¿ƒåŸç†"),l("td",null,"è°ƒç”¨é¡ºåº (Call Order)"),l("td",null,"ä¾èµ–è¿½è¸ª (Dependency Tracking)")]),l("tr",null,[l("td",null,"çŠ¶æ€æœºåˆ¶"),l("td",null,"React å†…éƒ¨çš„é“¾è¡¨/æ•°ç»„"),l("td",null,"ç‹¬ç«‹çš„å“åº”å¼å¯¹è±¡ (Proxy / Ref)")]),l("tr",null,[l("td",null,"å‡½æ•°æ‰§è¡Œ"),l("td",null,"ç»„ä»¶å‡½æ•°æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œ"),l("td",null,"setup() åªæ‰§è¡Œä¸€æ¬¡")]),l("tr",null,[l("td",null,"ä½¿ç”¨é™åˆ¶"),l("td",null,"æœ‰ï¼ˆRules of Hooksï¼Œä¸èƒ½åœ¨ if/for ä¸­ï¼‰"),l("td",null,"æ— ï¼ˆå¯ä»¥åœ¨ if/for ä¸­ï¼Œå› ä¸ºçŠ¶æ€æ˜¯ç‹¬ç«‹çš„ï¼‰")]),l("tr",null,[l("td",null,"å¿ƒæ™ºæ¨¡å‹"),l("td",null,"â€œæ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯å…¨æ–°çš„â€"),l("td",null,"â€œçŠ¶æ€æ˜¯æŒä¹…çš„ï¼Œå½“å®ƒå˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘æ›´æ–°â€")])])],-1)])]),_:1}),s[26]||(s[26]=l("h3",{id:"_13-vue3-æ‰‹å†™ä¸€ä¸ªonceä¿®é¥°å™¨",tabindex:"-1"},[n("13. vue3 æ‰‹å†™ä¸€ä¸ªonceä¿®é¥°å™¨ "),l("a",{class:"header-anchor",href:"#_13-vue3-æ‰‹å†™ä¸€ä¸ªonceä¿®é¥°å™¨","aria-label":"Permalink to â€œ13. vue3 æ‰‹å†™ä¸€ä¸ªonceä¿®é¥°å™¨â€"},"â€‹")],-1)),a(e,null,{default:i(()=>[...s[12]||(s[12]=[l("div",{class:"language-"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"<template>")]),n(`
`),l("span",{class:"line"},[l("span",null,"  <div>")]),n(`
`),l("span",{class:"line"},[l("span",null,"    <h2 v-once-directive>{{ message }}</h2>")]),n(`
`),l("span",{class:"line"},[l("span",null,`    <button @click="message = 'æ›´æ–°åçš„æ¶ˆæ¯'">ä¿®æ”¹ message</button>`)]),n(`
`),l("span",{class:"line"},[l("span",null,"  </div>")]),n(`
`),l("span",{class:"line"},[l("span",null,"</template>")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"<script setup>")]),n(`
`),l("span",{class:"line"},[l("span",null,"import { ref } from 'vue'")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"const message = ref('åˆå§‹å†…å®¹')")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"// æ³¨å†Œè‡ªå®šä¹‰ once æŒ‡ä»¤")]),n(`
`),l("span",{class:"line"},[l("span",null,"const vOnceDirective = {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  // ç¬¬ä¸€æ¬¡æŒ‚è½½æ—¶ï¼ˆæ¸²æŸ“ä¸€æ¬¡ï¼‰")]),n(`
`),l("span",{class:"line"},[l("span",null,"  mounted(el, binding) {")]),n(`
`),l("span",{class:"line"},[l("span",null,"    el._onceContent = el.innerHTML // è®°å½•åˆæ¬¡æ¸²æŸ“å†…å®¹")]),n(`
`),l("span",{class:"line"},[l("span",null,"  },")]),n(`
`),l("span",{class:"line"},[l("span",null,"  // å½“æ•°æ®å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘ updated é’©å­")]),n(`
`),l("span",{class:"line"},[l("span",null,"  updated(el, binding) {")]),n(`
`),l("span",{class:"line"},[l("span",null,"    // æ¢å¤åˆå§‹å†…å®¹ï¼Œé˜²æ­¢é‡æ–°æ¸²æŸ“")]),n(`
`),l("span",{class:"line"},[l("span",null,"    el.innerHTML = el._onceContent")]),n(`
`),l("span",{class:"line"},[l("span",null,"  }")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span",null,"<\/script>")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"<script>")]),n(`
`),l("span",{class:"line"},[l("span",null,"export default {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  directives: {")]),n(`
`),l("span",{class:"line"},[l("span",null,"    onceDirective: vOnceDirective")]),n(`
`),l("span",{class:"line"},[l("span",null,"  }")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span",null,"<\/script>")])])])],-1),l("p",null,"äº‹ä»¶",-1),l("div",{class:"language-"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"<template>")]),n(`
`),l("span",{class:"line"},[l("span",null,'  <button v-once-click="handleClick">ç‚¹å‡»æˆ‘ä¸€æ¬¡</button>')]),n(`
`),l("span",{class:"line"},[l("span",null,"</template>")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"<script setup>")]),n(`
`),l("span",{class:"line"},[l("span",null,"const handleClick = () => {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  alert('åªæ‰§è¡Œä¸€æ¬¡')")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span")]),n(`
`),l("span",{class:"line"},[l("span",null,"const vOnceClick = {")]),n(`
`),l("span",{class:"line"},[l("span",null,"  mounted(el, binding) {")]),n(`
`),l("span",{class:"line"},[l("span",null,"    const fn = (e) => {")]),n(`
`),l("span",{class:"line"},[l("span",null,"      binding.value(e)")]),n(`
`),l("span",{class:"line"},[l("span",null,"      el.removeEventListener('click', fn) // ç§»é™¤ç›‘å¬")]),n(`
`),l("span",{class:"line"},[l("span",null,"    }")]),n(`
`),l("span",{class:"line"},[l("span",null,"    el.addEventListener('click', fn)")]),n(`
`),l("span",{class:"line"},[l("span",null,"  }")]),n(`
`),l("span",{class:"line"},[l("span",null,"}")]),n(`
`),l("span",{class:"line"},[l("span",null,"<\/script>")])])])],-1),l("p",null,"è‡ªå®šä¹‰æŒ‡ä»¤æœ‰å¾ˆå¤šé’©å­å¯ä»¥é€‰æ‹©",-1),l("div",{class:"language-vue"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"vue"),l("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"const myDirective = {")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åœ¨ç»‘å®šå…ƒç´ çš„ attribute å‰")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // æˆ–äº‹ä»¶ç›‘å¬å™¨åº”ç”¨å‰è°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  created(el, binding, vnode) {")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    // ä¸‹é¢ä¼šä»‹ç»å„ä¸ªå‚æ•°çš„ç»†èŠ‚")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM å‰è°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  beforeMount(el, binding, vnode) {},")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æŒ‚è½½å®Œæˆåè°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  mounted(el, binding, vnode) {},")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æ›´æ–°å‰è°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  beforeUpdate(el, binding, vnode, prevVnode) {},")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ›´æ–°åè°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  updated(el, binding, vnode, prevVnode) {},")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½å‰è°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  beforeUnmount(el, binding, vnode) {},")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½åè°ƒç”¨")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  unmounted(el, binding, vnode) {}")]),n(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])]),_:1})])}const m=u(o,[["render",d]]);export{b as __pageData,m as default};
