<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¼€æ”¾æ€§é—®é¢˜, åœºæ™¯æ€§é—®é¢˜ | çŸ¥è¯†åº“</title>
    <meta name="description" content="çŸ¥è¯†åº“">
    <meta name="generator" content="VitePress v2.0.0-alpha.12">
    <link rel="preload stylesheet" href="/myKMS/assets/style.CDucz5ZG.css" as="style">
    <link rel="preload stylesheet" href="/myKMS/vp-icons.css" as="style">
    
    <script type="module" src="/myKMS/assets/app.EhiShLJV.js"></script>
    <link rel="preload" href="/myKMS/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/myKMS/assets/chunks/theme.B2zXoiev.js">
    <link rel="modulepreload" href="/myKMS/assets/chunks/framework.L9hZw9cv.js">
    <link rel="modulepreload" href="/myKMS/assets/interview_index.md.DCJEcbIP.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body><!--teleport start anchor--><!----><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-304c8b69><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-304c8b69 data-v-d5bf7c8e><div class="VPNavBar" data-v-d5bf7c8e data-v-8eab0e6d><div class="wrapper" data-v-8eab0e6d><div class="container" data-v-8eab0e6d><div class="title" data-v-8eab0e6d><div class="VPNavBarTitle has-sidebar" data-v-8eab0e6d data-v-d4488dd0><a class="title" href="/myKMS/" data-v-d4488dd0><!--[--><!--]--><!----><span data-v-d4488dd0>çŸ¥è¯†åº“</span><!--[--><!--]--></a></div></div><div class="content" data-v-8eab0e6d><div class="content-body" data-v-8eab0e6d><!--[--><!--[--><!--[--><div class="random-question random-question--nav" data-v-edebde8c><button type="button" class="random-question__trigger random-question__trigger--nav" data-v-edebde8c> ğŸ¯ éšæœºæŠ½é¢˜ </button><!--teleport start--><!--teleport end--></div><!--]--><!--]--><!--]--><div class="VPNavBarSearch search" data-v-8eab0e6d><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8eab0e6d data-v-020be4db><span id="main-nav-aria-label" class="visually-hidden" data-v-020be4db> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/myKMS/" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/myKMS/interview/code.html" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>é¢è¯•</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/myKMS/knowledge/framework/react.html" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>æ¡†æ¶</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/myKMS/knowledge/browser/http.html" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>æµè§ˆå™¨</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8eab0e6d data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-8eab0e6d data-v-ef6192dc data-v-a1a7286e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/xingyuanlong/myKMS" aria-label="github" target="_blank" rel="me noopener" data-v-a1a7286e data-v-32d78712><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-8eab0e6d data-v-f953d92f data-v-d8fae6e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d8fae6e2><span class="vpi-more-horizontal icon" data-v-d8fae6e2></span></button><div class="menu" data-v-d8fae6e2><div class="VPMenu" data-v-d8fae6e2 data-v-fcd1d7a8><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-a1a7286e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/xingyuanlong/myKMS" aria-label="github" target="_blank" rel="me noopener" data-v-a1a7286e data-v-32d78712><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8eab0e6d data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-8eab0e6d><div class="divider-line" data-v-8eab0e6d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-304c8b69 data-v-5ae341c6><div class="container" data-v-5ae341c6><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5ae341c6><span class="vpi-align-left menu-icon" data-v-5ae341c6></span><span class="menu-text" data-v-5ae341c6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5ae341c6 data-v-e28a51a6><button data-v-e28a51a6>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-304c8b69 data-v-e0eef791><div class="curtain" data-v-e0eef791></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e0eef791><span class="visually-hidden" id="sidebar-aria-label" data-v-e0eef791> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>åŸºç¡€çŸ¥è¯†</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/base/js.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>js</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/base/nodejs.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>node</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/base/css.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>css</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>interview</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/interview/2025.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>2025</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/interview/code.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/interview/index.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>å¼€æ”¾æ€§é—®é¢˜</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>æ¡†æ¶</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/framework/react.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>react</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/framework/vue.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>vue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/framework/vite.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>å·¥ç¨‹åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/framework/electron.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>electron</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>æµè§ˆå™¨</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/browser/index.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>browser</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/browser/http.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>http</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/knowledge/browser/webSecurity.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>webå®‰å…¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>è¯»ä¹¦ç¬”è®°</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/book/vue_1.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>vue.js è®¾è®¡ä¸å®è·µ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>ç®—æ³•</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/algorithm/index.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>æ€»</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>AI</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/myKMS/ai/index.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>ai</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-304c8b69 data-v-2652e39a><div class="VPDoc has-sidebar has-aside" data-v-2652e39a data-v-d668f7cc><!--[--><!--]--><div class="container" data-v-d668f7cc><div class="aside" data-v-d668f7cc><div class="aside-curtain" data-v-d668f7cc></div><div class="aside-container" data-v-d668f7cc><div class="aside-content" data-v-d668f7cc><div class="VPDocAside" data-v-d668f7cc data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-c8b19031><div class="content" data-v-c8b19031><div class="outline-marker" data-v-c8b19031></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c8b19031>é¡µé¢å¯¼èˆª</div><ul class="VPDocOutlineItem root" data-v-c8b19031 data-v-b7d7ef80><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d668f7cc><div class="content-container" data-v-d668f7cc><!--[--><!--]--><main class="main" data-v-d668f7cc><div style="position:relative;" class="vp-doc _myKMS_interview_" data-v-d668f7cc><div><h1 id="å¼€æ”¾æ€§é—®é¢˜-åœºæ™¯æ€§é—®é¢˜" tabindex="-1">å¼€æ”¾æ€§é—®é¢˜, åœºæ™¯æ€§é—®é¢˜ <a class="header-anchor" href="#å¼€æ”¾æ€§é—®é¢˜-åœºæ™¯æ€§é—®é¢˜" aria-label="Permalink to â€œå¼€æ”¾æ€§é—®é¢˜, åœºæ™¯æ€§é—®é¢˜â€">â€‹</a></h1><h3 id="_1-å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç¦»å¼€å½“å‰é¡µé¢" tabindex="-1">1.å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç¦»å¼€å½“å‰é¡µé¢? <a class="header-anchor" href="#_1-å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç¦»å¼€å½“å‰é¡µé¢" aria-label="Permalink to â€œ1.å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç¦»å¼€å½“å‰é¡µé¢?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ä¸€ã€é¡µé¢å¯è§æ€§ Page Visibility API</p><p>åˆ¤æ–­ç”¨æˆ·æ ‡ç­¾é¡µæ˜¯å¦å¯è§ï¼ˆåˆ‡æ¢åˆ°åå°/æœ€å°åŒ–æµè§ˆå™¨ï¼‰</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>document.addEventListener(&#39;visibilitychange&#39;, () =&gt; {</span></span>
<span class="line"><span>  if (document.hidden) {</span></span>
<span class="line"><span>    console.log(&#39;ç”¨æˆ·ç¦»å¼€é¡µé¢ï¼ˆåˆ‡æ¢æ ‡ç­¾é¡µæˆ–æœ€å°åŒ–ï¼‰&#39;);</span></span>
<span class="line"><span>  } else {</span></span>
<span class="line"><span>    console.log(&#39;ç”¨æˆ·å›åˆ°é¡µé¢&#39;);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>äºŒã€çª—å£ç„¦ç‚¹ï¼ˆFocus / Blurï¼‰</p><p>æ£€æµ‹çª—å£æˆ– iframe æ˜¯å¦è·å¾—ç„¦ç‚¹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>window.addEventListener(&#39;blur&#39;, () =&gt; {</span></span>
<span class="line"><span>  console.log(&#39;ç”¨æˆ·ç¦»å¼€äº†å½“å‰çª—å£/æ ‡ç­¾é¡µ&#39;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>window.addEventListener(&#39;focus&#39;, () =&gt; {</span></span>
<span class="line"><span>  console.log(&#39;ç”¨æˆ·å›åˆ°å½“å‰çª—å£/æ ‡ç­¾é¡µ&#39;);</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>ä¸‰ã€ç”¨æˆ·ç¦»å¼€é¡µé¢ / å¸è½½ï¼ˆbeforeunload / unloadï¼‰</p><p>æ£€æµ‹ç”¨æˆ·å…³é—­é¡µé¢ã€åˆ·æ–°æˆ–è·³è½¬ã€‚</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>window.addEventListener(&#39;beforeunload&#39;, (e) =&gt; {</span></span>
<span class="line"><span>  console.log(&#39;ç”¨æˆ·å¯èƒ½ç¦»å¼€é¡µé¢&#39;);</span></span>
<span class="line"><span>  // é˜»æ­¢é»˜è®¤æç¤ºï¼ˆå¯é€‰ï¼‰</span></span>
<span class="line"><span>  e.preventDefault();</span></span>
<span class="line"><span>  e.returnValue = &#39;&#39;;</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>å››ã€é¼ æ ‡ / ç”¨æˆ·äº¤äº’æ£€æµ‹</p><p>å½“ç”¨æˆ·é•¿æ—¶é—´æ²¡æœ‰äº¤äº’ï¼ˆé¼ æ ‡ã€é”®ç›˜ã€è§¦å±ï¼‰ï¼Œå¯æ¨æµ‹ç”¨æˆ·ç¦»å¼€</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>let idleTimer;</span></span>
<span class="line"><span>function resetIdle() {</span></span>
<span class="line"><span>  clearTimeout(idleTimer);</span></span>
<span class="line"><span>  idleTimer = setTimeout(() =&gt; {</span></span>
<span class="line"><span>    console.log(&#39;ç”¨æˆ·å¯èƒ½ç¦»å¼€æˆ–æ— æ“ä½œ&#39;);</span></span>
<span class="line"><span>  }, 30000); // 30ç§’æ— æ“ä½œ</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ç›‘å¬ç”¨æˆ·æ“ä½œ</span></span>
<span class="line"><span>[&#39;mousemove&#39;,&#39;keydown&#39;,&#39;click&#39;,&#39;scroll&#39;,&#39;touchstart&#39;].forEach(ev =&gt;</span></span>
<span class="line"><span>  document.addEventListener(ev, resetIdle)</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span>resetIdle();</span></span></code></pre></div><p>å¯ä»¥æ£€æµ‹â€œç”¨æˆ·ä¸æ´»è·ƒâ€ï¼Œç”¨äºè‡ªåŠ¨ç™»å‡ºã€å¿ƒè·³ç­‰.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>let idleTimer;</span></span>
<span class="line"><span>function onUserIdle() { console.log(&#39;ç”¨æˆ·ç¦»å¼€é¡µé¢æˆ–é•¿æ—¶é—´ä¸æ“ä½œ&#39;); }</span></span>
<span class="line"><span>function resetIdle() {</span></span>
<span class="line"><span>  clearTimeout(idleTimer);</span></span>
<span class="line"><span>  idleTimer = setTimeout(onUserIdle, 30000);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>[&#39;mousemove&#39;,&#39;keydown&#39;,&#39;click&#39;,&#39;scroll&#39;,&#39;touchstart&#39;].forEach(ev =&gt; </span></span>
<span class="line"><span>  document.addEventListener(ev, resetIdle)</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span>resetIdle();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.addEventListener(&#39;visibilitychange&#39;, () =&gt; {</span></span>
<span class="line"><span>  if (document.hidden) onUserIdle();</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>window.addEventListener(&#39;blur&#39;, onUserIdle);</span></span>
<span class="line"><span>window.addEventListener(&#39;focus&#39;, resetIdle);</span></span></code></pre></div><!--]--></div></div><h3 id="_2-å‰ç«¯å¦‚ä½•é¢„è§ˆpdf" tabindex="-1">2.å‰ç«¯å¦‚ä½•é¢„è§ˆpdf? <a class="header-anchor" href="#_2-å‰ç«¯å¦‚ä½•é¢„è§ˆpdf" aria-label="Permalink to â€œ2.å‰ç«¯å¦‚ä½•é¢„è§ˆpdf?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ä¸€ã€ç›´æ¥ä½¿ç”¨æµè§ˆå™¨å†…ç½® PDF æ¸²æŸ“ - <code>&lt;iframe&gt;</code> åµŒå…¥ - <code>&lt;embed&gt;</code> æ ‡ç­¾ - æ–°å¼€æ ‡ç­¾é¡µ</p><p>äºŒã€ä½¿ç”¨ PDF.js - PDF.js æ˜¯æœ€å¸¸ç”¨çš„å‰ç«¯ PDF æ¸²æŸ“åº“ï¼Œå¯ä»¥åœ¨ <code>&lt;canvas&gt;</code> ä¸Šæ¸²æŸ“ PDF é¡µé¢ã€‚</p><!--]--></div></div><h3 id="_3-å‰ç«¯æ‰¹é‡è¯·æ±‚å¤±è´¥toasté‡å¤å¼¹çª—æ€ä¹ˆè§£å†³" tabindex="-1">3.å‰ç«¯æ‰¹é‡è¯·æ±‚å¤±è´¥Toasté‡å¤å¼¹çª—æ€ä¹ˆè§£å†³ï¼Ÿ <a class="header-anchor" href="#_3-å‰ç«¯æ‰¹é‡è¯·æ±‚å¤±è´¥toasté‡å¤å¼¹çª—æ€ä¹ˆè§£å†³" aria-label="Permalink to â€œ3.å‰ç«¯æ‰¹é‡è¯·æ±‚å¤±è´¥Toasté‡å¤å¼¹çª—æ€ä¹ˆè§£å†³ï¼Ÿâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li>å…¨å±€æ ‡å¿—æ‹¦æˆª: æ— è®ºå¤šå°‘é”™è¯¯åªå¼¹å‡ºä¸€ä¸ªé”™è¯¯</li><li>Toast è‡ªèº«é˜²æŠ–, çŸ­æ—¶é—´å†…åªå¼¹ä¸€æ¬¡</li><li>é”™è¯¯èšåˆï¼šåœ¨æ‹¦æˆªå™¨å±‚é¢ï¼Œæ”¶é›†çŸ­æ—¶é—´å†…çš„æ‰€æœ‰é”™è¯¯ï¼Œç„¶ååˆå¹¶æˆä¸€æ¡ Toast æ˜¾ç¤º <ul><li>åœ¨æ‹¦æˆªå™¨ä¸­ä¸ç«‹å³å¼¹çª—ï¼Œè€Œæ˜¯å°†é”™è¯¯â€œæ”¶é›†â€èµ·æ¥ï¼Œç”¨ä¸€ä¸ª debounce å‡½æ•°åœ¨çŸ­æ—¶é—´åç»Ÿä¸€å¤„ç†</li><li>é”™è¯¯åˆ†ç±»é˜Ÿåˆ—å’Œåˆ†ç±»å¤„ç†</li></ul></li><li>ä¸šåŠ¡å±‚å¤„ç† <ul><li>åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œå‘ŠçŸ¥æ‹¦æˆªå™¨â€œä¸è¦å¼¹ Toastâ€ï¼Œç„¶ååœ¨ä¸šåŠ¡ä»£ç ä¸­ç”¨ Promise.allSettled æ‰‹åŠ¨å¤„ç†æ‰€æœ‰ç»“æœ</li></ul></li><li>è¿˜å¯ä»¥åŠ ä¸Šé‡è¯•æœºåˆ¶å’Œé”™è¯¯ä¸ŠæŠ¥</li></ul><!--]--></div></div><h3 id="_4-å¦‚ä½•è§£å†³é¡µé¢æ¥å£è¯·æ±‚å¤§è§„æ¨¡å¹¶å‘é—®é¢˜" tabindex="-1">4.å¦‚ä½•è§£å†³é¡µé¢æ¥å£è¯·æ±‚å¤§è§„æ¨¡å¹¶å‘é—®é¢˜ <a class="header-anchor" href="#_4-å¦‚ä½•è§£å†³é¡µé¢æ¥å£è¯·æ±‚å¤§è§„æ¨¡å¹¶å‘é—®é¢˜" aria-label="Permalink to â€œ4.å¦‚ä½•è§£å†³é¡µé¢æ¥å£è¯·æ±‚å¤§è§„æ¨¡å¹¶å‘é—®é¢˜â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li><p>è¯·æ±‚å»é‡ï¼ˆé˜²æŠ– + èŠ‚æµ + é˜Ÿåˆ—ï¼‰</p><ul><li>æ ¸å¿ƒæ€æƒ³ï¼šåŒä¸€èµ„æºã€åŒä¸€å‚æ•°ï¼Œä¸é‡å¤å‘è¯·æ±‚ã€‚</li></ul></li><li><p>è¯·æ±‚åˆå¹¶</p><ul><li>æŠŠå¤šä¸ªç›¸ä¼¼è¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªã€‚</li></ul></li><li><p>å¹¶å‘é™åˆ¶</p><ul><li>æ§åˆ¶åŒæ—¶å‘å‡ºçš„è¯·æ±‚æ•°ï¼Œè¶…è¿‡çš„è¿›å…¥é˜Ÿåˆ—ã€‚</li></ul></li><li><p>ç¼“å­˜</p></li><li><p>ä¼˜åŒ–è¯·æ±‚æ—¶æœº</p></li></ul><!--]--></div></div><h3 id="_5-æ¸²æŸ“å…ƒç´ å¾ˆå¤š-å¦‚ä½•ä¿è¯é¡µé¢ä¸å¡é¡¿" tabindex="-1">5.æ¸²æŸ“å…ƒç´ å¾ˆå¤š, å¦‚ä½•ä¿è¯é¡µé¢ä¸å¡é¡¿? <a class="header-anchor" href="#_5-æ¸²æŸ“å…ƒç´ å¾ˆå¤š-å¦‚ä½•ä¿è¯é¡µé¢ä¸å¡é¡¿" aria-label="Permalink to â€œ5.æ¸²æŸ“å…ƒç´ å¾ˆå¤š, å¦‚ä½•ä¿è¯é¡µé¢ä¸å¡é¡¿?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>æ ¸å¿ƒæ€æƒ³æ˜¯ <strong>åªæ¸²æŸ“ç”¨æˆ·å¯è§çš„éƒ¨åˆ†</strong></p><p>è§£å†³æ€è·¯ï¼š<strong>å‡å°‘ä¸€æ¬¡æ€§æ¸²æŸ“çš„ DOM æ•°é‡ + æ‰¹é‡æ›´æ–° + GPU åŠ é€Ÿ + å¼‚æ­¥æ¸²æŸ“</strong></p><ul><li>è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰</li><li>æ—¶é—´åˆ†ç‰‡ï¼ˆTime Slicingï¼‰/åˆ†æ‰¹æ¸²æŸ“</li><li>æ•°æ®åŠ è½½ä¼˜åŒ– <ul><li>åˆ†é¡µ</li><li>æ— é™æ»šåŠ¨</li></ul></li><li>DOM æ“ä½œæ‰¹é‡åŒ–</li><li>é¿å…å¤æ‚çš„ CSS æ ·å¼</li><li>å‡å°‘é‡æ’ä¸é‡ç»˜ <ul><li>åˆå¹¶ DOM æ“ä½œ</li><li>é¿å…é¢‘ç¹ä¿®æ”¹ layout å±æ€§</li><li>ä½¿ç”¨ transform / opacity åšåŠ¨ç”»ï¼Œé…åˆ will-change æå‰ä¼˜åŒ–</li></ul></li><li>CSS GPU åŠ é€Ÿ</li><li>è™šæ‹Ÿ DOM / diff ä¼˜åŒ–</li><li>å¼‚æ­¥è®¡ç®— <ul><li>å¯¹å¤§é‡è®¡ç®—æ“ä½œä½¿ç”¨ Web Worker</li><li>ä¸»çº¿ç¨‹åªè´Ÿè´£æ¸²æŸ“ï¼Œé¿å… JS é˜»å¡</li></ul></li><li>æ¡†æ¶ä¼˜åŒ–</li></ul><!--]--></div></div><h3 id="_6-å‰ç«¯ä½ä»£ç å¹³å°è¡¨å•è”åŠ¨å¦‚ä½•å®ç°" tabindex="-1">6.å‰ç«¯ä½ä»£ç å¹³å°è¡¨å•è”åŠ¨å¦‚ä½•å®ç° <a class="header-anchor" href="#_6-å‰ç«¯ä½ä»£ç å¹³å°è¡¨å•è”åŠ¨å¦‚ä½•å®ç°" aria-label="Permalink to â€œ6.å‰ç«¯ä½ä»£ç å¹³å°è¡¨å•è”åŠ¨å¦‚ä½•å®ç°â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ol><li>è§£æä¾èµ–å…³ç³»</li><li>æ„å»ºè§‚å¯Ÿè€… / è®¢é˜…æœºåˆ¶</li><li>åŠ¨æ€æ‰§è¡Œè§„åˆ™</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>formFields = [</span></span>
<span class="line"><span>  { field: &#39;province&#39;, type: &#39;select&#39; },</span></span>
<span class="line"><span>  { field: &#39;city&#39;, type: &#39;select&#39;, dependsOn: &#39;province&#39;, compute: (state) =&gt; cities[state.province] }</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ç”Ÿæˆä¾èµ–å›¾</span></span>
<span class="line"><span>depMap = {</span></span>
<span class="line"><span>  province: [&#39;city&#39;]</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å­—æ®µå€¼å˜åŒ–æ—¶è§¦å‘ä¾èµ–</span></span>
<span class="line"><span>function onChange(field, value) {</span></span>
<span class="line"><span>  formState[field] = value;</span></span>
<span class="line"><span>  (depMap[field] || []).forEach(depField =&gt; {</span></span>
<span class="line"><span>    const compute = formFields.find(f =&gt; f.field === depField).compute;</span></span>
<span class="line"><span>    if(compute) formState[depField] = compute(formState);</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span></code></pre></div><!--]--></div></div><h3 id="_7-é¡¹ç›®ä¸Šé‡åˆ°çš„éš¾é¢˜" tabindex="-1">7. é¡¹ç›®ä¸Šé‡åˆ°çš„éš¾é¢˜ <a class="header-anchor" href="#_7-é¡¹ç›®ä¸Šé‡åˆ°çš„éš¾é¢˜" aria-label="Permalink to â€œ7. é¡¹ç›®ä¸Šé‡åˆ°çš„éš¾é¢˜â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><!--]--></div></div><h3 id="_8-æƒ³è±¡ä¸€ä¸‹-å¦‚æœé¡¹ç›®ä¸Šçº¿å‰ä¸€å¤©-æµ‹è¯•å›¢é˜Ÿå‘ç°ä¸€ä¸ªä¸¥é‡bug-ä½†ä¿®å¤å¯èƒ½å¯¼è‡´å‘å¸ƒå»¶æœŸ-ä½ ä¼šå¦‚ä½•å¤„ç†" tabindex="-1">8.æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœé¡¹ç›®ä¸Šçº¿å‰ä¸€å¤©ï¼Œæµ‹è¯•å›¢é˜Ÿå‘ç°ä¸€ä¸ªä¸¥é‡bugï¼Œä½†ä¿®å¤å¯èƒ½å¯¼è‡´å‘å¸ƒå»¶æœŸï¼Œä½ ä¼šå¦‚ä½•å¤„ç†ï¼Ÿ <a class="header-anchor" href="#_8-æƒ³è±¡ä¸€ä¸‹-å¦‚æœé¡¹ç›®ä¸Šçº¿å‰ä¸€å¤©-æµ‹è¯•å›¢é˜Ÿå‘ç°ä¸€ä¸ªä¸¥é‡bug-ä½†ä¿®å¤å¯èƒ½å¯¼è‡´å‘å¸ƒå»¶æœŸ-ä½ ä¼šå¦‚ä½•å¤„ç†" aria-label="Permalink to â€œ8.æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœé¡¹ç›®ä¸Šçº¿å‰ä¸€å¤©ï¼Œæµ‹è¯•å›¢é˜Ÿå‘ç°ä¸€ä¸ªä¸¥é‡bugï¼Œä½†ä¿®å¤å¯èƒ½å¯¼è‡´å‘å¸ƒå»¶æœŸï¼Œä½ ä¼šå¦‚ä½•å¤„ç†ï¼Ÿâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ç¬¬ä¸€æ­¥ï¼šå†·é™è¯„ä¼° â€”â€” åˆ¤æ–­é—®é¢˜çš„æ€§è´¨ä¸å½±å“èŒƒå›´</p><ul><li>å½±å“èŒƒå›´</li><li>å¤ç°æ¡ä»¶</li><li>ä¿®å¤é£é™©</li></ul><p>è¾“å‡ºï¼šé—®é¢˜ä¸¥é‡ç¨‹åº¦æŠ¥å‘Šï¼ˆCritical / High / Medium / Lowï¼‰+ ä¿®å¤å¤æ‚åº¦è¯„ä¼°ï¼ˆç®€å• / ä¸­ç­‰ / é«˜é£é™©</p><p>ç¬¬äºŒæ­¥ï¼šæƒè¡¡æ–¹æ¡ˆ â€”â€” å¿«é€Ÿåˆ¶å®šåº”æ€¥ç­–ç•¥</p><ul><li><p>é«˜é£é™© + é«˜å½±å“ï¼ˆæ ¸å¿ƒåŠŸèƒ½æŒ‚ï¼‰</p><ul><li>åšå†³å»¶æœŸä¸Šçº¿</li></ul></li><li><p>ä½é£é™© + é«˜å½±å“ï¼ˆå¯ä¸´æ—¶ç»•è¿‡ï¼‰</p><ul><li>ä¸Šçº¿ä½†æ·»åŠ ä¸´æ—¶å…œåº•æ–¹æ¡ˆ</li></ul></li><li><p>é«˜é£é™© + ä½å½±å“ï¼ˆè¾¹ç¼˜åŠŸèƒ½æœ‰éšæ‚£ï¼‰</p><ul><li>ä¿®å¤æ”¾å…¥ä¸‹ä¸ªå°ç‰ˆæœ¬æˆ–ç°åº¦</li></ul></li><li><p>æ²Ÿé€šä¸åä½œç­–ç•¥</p><ul><li>è¦è®©å†³ç­–é€æ˜ï¼Œå›¢é˜Ÿå…±è¯†æ˜ç¡®</li></ul></li><li><p>ä¸Šçº¿åé£æ§</p><ul><li>å¿«é€Ÿå›æ»šè„šæœ¬</li><li>å®æ—¶ç›‘æ§</li></ul></li></ul><!--]--></div></div><h3 id="_9-è¯·åˆ†äº«ä¸€ä¸ªä½ é€šè¿‡ä¼˜åŒ–å‰ç«¯æ€§èƒ½æå‡ç”¨æˆ·ä½“éªŒçš„æ¡ˆä¾‹-å…·ä½“ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µ" tabindex="-1">9.è¯·åˆ†äº«ä¸€ä¸ªä½ é€šè¿‡ä¼˜åŒ–å‰ç«¯æ€§èƒ½æå‡ç”¨æˆ·ä½“éªŒçš„æ¡ˆä¾‹ï¼Œå…·ä½“ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µ <a class="header-anchor" href="#_9-è¯·åˆ†äº«ä¸€ä¸ªä½ é€šè¿‡ä¼˜åŒ–å‰ç«¯æ€§èƒ½æå‡ç”¨æˆ·ä½“éªŒçš„æ¡ˆä¾‹-å…·ä½“ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µ" aria-label="Permalink to â€œ9.è¯·åˆ†äº«ä¸€ä¸ªä½ é€šè¿‡ä¼˜åŒ–å‰ç«¯æ€§èƒ½æå‡ç”¨æˆ·ä½“éªŒçš„æ¡ˆä¾‹ï¼Œå…·ä½“ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li>è·¯ç”±çº§ æŒ‰éœ€åŠ è½½</li><li>ä½¿ç”¨ Preload / Prefetch æå‰è¯·æ±‚å…³é”®èµ„æº</li><li>gzip å‹ç¼©</li><li>Tree Shaking</li><li>loading</li><li>åˆå¹¶æ¥å£/å‡å°‘æ¥å£</li><li>æ¸²æŸ“åˆ†çº§</li><li>éª¨æ¶å± + å¼‚æ­¥æ¸²æŸ“</li></ul><p>æ¯”å¦‚: æ—§é¡¹ç›® webpackChunkName è®¾ç½®ä¸å’Œå¯¼è‡´code slipt åŸºæœ¬æ²¡æ•ˆæœ, æ ¹æ®é¡¹ç›®å®é™…é‡æ–°é…ç½® webpackChunkName</p><!--]--></div></div><h3 id="_10-æƒ³è±¡ä¸€ä¸‹-å¦‚æœä½ çš„å›¢é˜Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç¬¬ä¸‰æ–¹åº“çš„ä¸¥é‡æ¼æ´-ä½ ä¼šå¦‚ä½•å¤„ç†" tabindex="-1">10.æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ çš„å›¢é˜Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç¬¬ä¸‰æ–¹åº“çš„ä¸¥é‡æ¼æ´ï¼Œä½ ä¼šå¦‚ä½•å¤„ç† <a class="header-anchor" href="#_10-æƒ³è±¡ä¸€ä¸‹-å¦‚æœä½ çš„å›¢é˜Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç¬¬ä¸‰æ–¹åº“çš„ä¸¥é‡æ¼æ´-ä½ ä¼šå¦‚ä½•å¤„ç†" aria-label="Permalink to â€œ10.æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ çš„å›¢é˜Ÿåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç¬¬ä¸‰æ–¹åº“çš„ä¸¥é‡æ¼æ´ï¼Œä½ ä¼šå¦‚ä½•å¤„ç†â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>1ï¸âƒ£ ç«‹å³è¯„ä¼°é£é™©</p><ul><li>ç¡®è®¤æ¼æ´å½±å“èŒƒå›´</li><li>ç¡®å®šæ¼æ´ä¸¥é‡æ€§</li></ul><p>2ï¸âƒ£ æš‚æ—¶ç¼“è§£æ–¹æ¡ˆ å¦‚æœæ¼æ´ç«‹å³å¯è¢«åˆ©ç”¨ï¼š</p><ul><li>ä¸´æ—¶å›é€€/é”å®šä¾èµ–ç‰ˆæœ¬ï¼šå›é€€åˆ°æ— æ¼æ´çš„å†å²ç‰ˆæœ¬ï¼›</li><li>å¢åŠ é˜²æŠ¤ï¼šä¾‹å¦‚åœ¨åç«¯å¢åŠ æ ¡éªŒã€é™åˆ¶æ•æ„Ÿæ¥å£è°ƒç”¨ã€å…³é—­å—å½±å“åŠŸèƒ½ï¼›</li><li>å‡çº§ä¾èµ–åº“ï¼šå¦‚æœå®˜æ–¹å·²ç»ä¿®å¤ï¼Œå°½å¿«å‡çº§å¹¶å›å½’æµ‹è¯•ã€‚</li></ul><p>å…³é”®ç‚¹ï¼š<strong>å…ˆä¿æŠ¤ç”Ÿäº§ç¯å¢ƒï¼Œä¿è¯ä¸šåŠ¡å®‰å…¨</strong></p><p>3ï¸âƒ£ å›¢é˜Ÿåä½œä¸ä¿¡æ¯é€šæŠ¥</p><ul><li>é€šçŸ¥ç›¸å…³å›¢é˜Ÿï¼šäº§å“ã€æµ‹è¯•ã€è¿ç»´å’Œå®‰å…¨å›¢é˜Ÿï¼›</li><li>è®°å½•æ¼æ´äº‹ä»¶ï¼šæ¼æ´ç±»å‹ã€å½±å“èŒƒå›´ã€ä¸´æ—¶å¤„ç†æ–¹æ¡ˆï¼›</li><li>åŒæ­¥ä¸Šçº¿è®¡åˆ’ï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦ç´§æ€¥å‘å¸ƒè¡¥ä¸ï¼Œæˆ–åœ¨ä¸‹æ¬¡å‘å¸ƒä¸­ä¿®å¤ã€‚</li></ul><p>4ï¸âƒ£ é•¿æœŸè§£å†³æ–¹æ¡ˆ</p><ul><li>å»ºç«‹ä¾èµ–ç®¡ç†ç­–ç•¥</li><li>æ›¿æ¢æˆ–éš”ç¦»é«˜é£é™©åº“</li><li>å¢å¼º CI/CD å®‰å…¨ç®¡æ§</li></ul><!--]--></div></div><h3 id="_11-è¯·æ±‚ç«æ€å¦‚ä½•å¤„ç†" tabindex="-1">11.è¯·æ±‚ç«æ€å¦‚ä½•å¤„ç†? <a class="header-anchor" href="#_11-è¯·æ±‚ç«æ€å¦‚ä½•å¤„ç†" aria-label="Permalink to â€œ11.è¯·æ±‚ç«æ€å¦‚ä½•å¤„ç†?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ç«æ€å¾€å¾€å¯¼è‡´äº† UI æ˜¾ç¤ºé”™è¯¯çš„æ—§æ•°æ®</p><ol><li>è¯·æ±‚æ ‡è¯†ï¼ˆrequestId + æ¯”å¯¹ï¼‰</li></ol><ul><li>æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å”¯ä¸€ IDï¼Œåªä¿ç•™æœ€åä¸€æ¬¡å‘å‡ºçš„å“åº”ç»“æœã€‚ react å¯ä»¥ä½¿ç”¨ ref åŒ…è£¹ lastRequestId</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>let lastRequestId = 0;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function fetchData(query) {</span></span>
<span class="line"><span>  const requestId = ++lastRequestId; // æ¯æ¬¡è¯·æ±‚è‡ªå¢</span></span>
<span class="line"><span>  const res = await fetch(`/api/search?q=${query}`);</span></span>
<span class="line"><span>  const data = await res.json();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (requestId === lastRequestId) {</span></span>
<span class="line"><span>    setData(data); // åªæœ‰æœ€æ–°è¯·æ±‚æ‰èƒ½æ›´æ–°UI</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><ol start="2"><li>AbortControllerï¼ˆä¸­æ–­æ—§è¯·æ±‚ï¼‰</li></ol><ul><li>åœ¨å‘æ–°è¯·æ±‚å‰ï¼Œä¸»åŠ¨â€œä¸­æ­¢â€æ—§è¯·æ±‚ã€‚</li></ul><ol start="3"><li>ä½¿ç”¨ useEffect + cleanup</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>useEffect(() =&gt; {</span></span>
<span class="line"><span>  let canceled = false;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  (async () =&gt; {</span></span>
<span class="line"><span>    const res = await fetch(`/api/data?id=${id}`);</span></span>
<span class="line"><span>    const data = await res.json();</span></span>
<span class="line"><span>    if (!canceled) setData(data);</span></span>
<span class="line"><span>  })();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return () =&gt; (canceled = true); // æ¸…ç†é€»è¾‘</span></span>
<span class="line"><span>}, [id]);</span></span></code></pre></div><ol start="4"><li>ä½¿ç”¨ SWR / React Query ç­‰æ•°æ®å±‚åº“</li></ol><p>è¯·æ±‚ç«æ€çš„æœ¬è´¨æ˜¯å¼‚æ­¥è¿”å›çš„å…ˆåé¡ºåºå¤±åºã€‚</p><p>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼š</p><ul><li>è¦ä¹ˆ ä¸­æ­¢æ—§è¯·æ±‚ï¼›</li><li>è¦ä¹ˆ å¿½ç•¥æ—§å“åº”ï¼›</li><li>æˆ–è€… è®©åº“å¸®ä½ ç®¡ç†ä¸€è‡´æ€§ã€‚</li></ul><!--]--></div></div><h3 id="_12-å®ç°-ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨é¡µä¿å­˜ä¸Šæ¬¡åŠ è½½çš„æ•°æ®å’Œè‡ªåŠ¨è¿˜åŸä¸Šæ¬¡çš„æµè§ˆä½ç½®ã€‚" tabindex="-1">12.å®ç° ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨é¡µä¿å­˜ä¸Šæ¬¡åŠ è½½çš„æ•°æ®å’Œè‡ªåŠ¨è¿˜åŸä¸Šæ¬¡çš„æµè§ˆä½ç½®ã€‚ <a class="header-anchor" href="#_12-å®ç°-ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨é¡µä¿å­˜ä¸Šæ¬¡åŠ è½½çš„æ•°æ®å’Œè‡ªåŠ¨è¿˜åŸä¸Šæ¬¡çš„æµè§ˆä½ç½®ã€‚" aria-label="Permalink to â€œ12.å®ç° ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨é¡µä¿å­˜ä¸Šæ¬¡åŠ è½½çš„æ•°æ®å’Œè‡ªåŠ¨è¿˜åŸä¸Šæ¬¡çš„æµè§ˆä½ç½®ã€‚â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><table tabindex="0"><thead><tr><th>æ–¹æ¡ˆ</th><th>å®ç°åŸç†</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æ–¹æ¡ˆ 1ï¼šçŠ¶æ€æå‡åˆ°å…¨å±€</strong></td><td>æŠŠåˆ—è¡¨æ•°æ®ä¸æ»šåŠ¨ä½ç½®å­˜å…¥å…¨å±€çŠ¶æ€ï¼ˆContextã€Reduxã€Recoilã€Zustandç­‰ï¼‰</td><td>âœ… é€šç”¨ã€æ¨è</td></tr><tr><td><strong>æ–¹æ¡ˆ 2ï¼šç¼“å­˜æ•´ä¸ªåˆ—è¡¨ç»„ä»¶</strong></td><td>ä½¿ç”¨ <code>&lt;KeepAlive&gt;</code> æˆ–è·¯ç”±ç¼“å­˜ï¼ˆReact Router + custom cacheï¼‰</td><td>âœ… ç®€å•ä½†ä¾µå…¥æ€§è¾ƒé«˜</td></tr></tbody></table><p>Vue 3 è‡ªå¸¦äº†<code> &lt;KeepAlive&gt;</code> ç»„ä»¶</p><p>react å®ç° keep-alive</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>// KeepAlive.jsx </span></span>
<span class="line"><span>import { useRef } from &#39;react&#39;;</span></span>
<span class="line"><span>import { useLocation } from &#39;react-router-dom&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default function KeepAlive({ children }) {</span></span>
<span class="line"><span>  const location = useLocation();</span></span>
<span class="line"><span>  const cacheRef = useRef({});</span></span>
<span class="line"><span>  const path = location.pathname;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Object.keys(cacheRef.current).forEach((key) =&gt; {</span></span>
<span class="line"><span>    cacheRef.current[key].style.display = key === path ? &#39;block&#39; : &#39;none&#39;;</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (!cacheRef.current[path]) {</span></span>
<span class="line"><span>    const div = document.createElement(&#39;div&#39;);</span></span>
<span class="line"><span>    div.style.display = &#39;block&#39;;</span></span>
<span class="line"><span>    cacheRef.current[path] = div;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;&gt;</span></span>
<span class="line"><span>      {Object.entries(cacheRef.current).map(([key, container]) =&gt; (</span></span>
<span class="line"><span>        &lt;div</span></span>
<span class="line"><span>          key={key}</span></span>
<span class="line"><span>          style={{ display: key === path ? &#39;block&#39; : &#39;none&#39; }}</span></span>
<span class="line"><span>        &gt;</span></span>
<span class="line"><span>          {key === path ? children : null}</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>      ))}</span></span>
<span class="line"><span>    &lt;/&gt;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>}</span></span></code></pre></div><!--]--></div></div><h3 id="_13-è®¾è®¡ä¸€å¥—å…¨ç«™é¡µé¢åŠ è½½è€—æ—¶ç»Ÿè®¡å·¥å…·" tabindex="-1">13. è®¾è®¡ä¸€å¥—å…¨ç«™é¡µé¢åŠ è½½è€—æ—¶ç»Ÿè®¡å·¥å…· <a class="header-anchor" href="#_13-è®¾è®¡ä¸€å¥—å…¨ç«™é¡µé¢åŠ è½½è€—æ—¶ç»Ÿè®¡å·¥å…·" aria-label="Permalink to â€œ13. è®¾è®¡ä¸€å¥—å…¨ç«™é¡µé¢åŠ è½½è€—æ—¶ç»Ÿè®¡å·¥å…·â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li>å®æ—¶/ç¦»çº¿ç›‘æ§é¡µé¢åŠ è½½ä½“éªŒï¼ˆé¦–å±ã€äº¤äº’ã€èµ„æºã€ç½‘ç»œç­‰ï¼‰ã€‚</li><li>æ”¯æŒ SPA + MPAã€ç§»åŠ¨ç«¯ä¸æ¡Œé¢ç«¯ã€‚</li><li>èƒ½æŒ‰ URLã€ç”¨æˆ·ç¾¤ã€åœ°ç†/è¿è¥ç»´åº¦åˆ‡åˆ†ï¼ˆä¾‹å¦‚ï¼šp50/p90/p95ï¼‰ã€‚</li><li>æ”¯æŒå¼‚å¸¸å‘Šè­¦ï¼ˆä¾‹å¦‚ï¼šp95 çªå¢ã€LCP è¶…é˜ˆå€¼ï¼‰ã€‚</li><li>ä½åŸ‹ç‚¹ä¾µå…¥ã€ä½æˆæœ¬å­˜å‚¨ã€å¯æ‰©å±•åˆ†æä¸å¯è§†åŒ–ã€‚</li></ul><p>æŒ‡æ ‡ï¼ˆWhat to collectï¼‰</p><ul><li><p>åˆ†ä¸ºã€Œå…³é”®ä½“éªŒæŒ‡æ ‡ï¼ˆWeb Vitalsï¼‰ã€ä¸ã€Œè¡¥å……æŒ‡æ ‡ã€ï¼š</p><ul><li>æ ¸å¿ƒï¼ˆå¿…é¡»ï¼‰ <ul><li>LCPï¼ˆLargest Contentful Paintï¼‰</li><li>FCPï¼ˆFirst Contentful Paintï¼‰</li><li>TTFBï¼ˆTime To First Byteï¼‰</li><li>DOMContentLoadedï¼ˆDCLï¼‰</li><li>Load Eventï¼ˆonloadï¼‰</li><li>CLSï¼ˆCumulative Layout Shiftï¼‰</li><li>FID / INPï¼ˆFirst Input Delay / Interaction to Next Paintï¼‰</li><li>JS/Vue/React æ¸²æŸ“è€—æ—¶ï¼ˆè‡ªå®šä¹‰åŸ‹ç‚¹ï¼‰</li><li>é¡µé¢æ€»ä½“è€—æ—¶ï¼šå¯¼èˆªå¼€å§‹åˆ° onloadã€ä»¥åŠè‡ªå®šçš„â€œé¦–äº¤äº’å®Œæˆâ€æ—¶é—´</li></ul></li></ul></li><li><p>èµ„æºç±»ï¼ˆå¯é€‰ï¼‰</p><ul><li>Resource timingï¼ˆå„é™æ€èµ„æºçš„åŠ è½½è€—æ—¶ï¼šdns, connect, ssl, request, response, durationï¼‰</li><li>å›¾ç‰‡/å­—ä½“/ç¬¬ä¸‰æ–¹è„šæœ¬çš„å¤±è´¥ç‡ä¸è€—æ—¶</li></ul></li></ul><p>ç½‘ç»œ/ç¯å¢ƒä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰</p><ul><li>URL / routeï¼ˆè·¯ç”±åï¼‰</li><li>Referrer / entry typeï¼ˆnavigate, reload, back_forwardï¼‰</li><li>UserAgent / æµè§ˆå™¨ã€ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿ</li><li>ç½‘ç»œä¿¡æ¯ï¼šeffectiveTypeã€downlinkã€rttï¼ˆè‹¥å¯ç”¨ï¼‰</li><li>åœ°ç‚¹ï¼ˆå¯é€‰ï¼šåŸºäº IP åæŸ¥æˆ–å‰ç«¯ä¼ å…¥åœ°åŒºï¼‰</li><li>Client timestamp / server timestampï¼ˆç”¨äºæ ¡å‡†ï¼‰</li></ul><p>é”™è¯¯ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰</p><ul><li>JS é”™è¯¯ï¼ˆmessage, stack, filename, linenoï¼‰ä»¥ä¾¿å…³è”æ…¢é¡µé¢ä¸é”™è¯¯ã€‚</li></ul><p>é‡‡æ ·ä¸é¢‘ç‡</p><ul><li>ç”Ÿäº§ç¯å¢ƒï¼šé»˜è®¤é‡‡æ ·ç‡ 1% - 10%ï¼ˆè§†æµé‡ä¸é¢„ç®—ï¼‰ï¼Œå…³é”®é¡µé¢æˆ–å®éªŒä¸­ 100% é‡‡é›†ã€‚</li><li>æ”¯æŒåŠ¨æ€ä¸‹å‘é‡‡æ ·ç­–ç•¥ï¼ˆCDN / é…ç½®ä¸­å¿ƒï¼‰ã€‚</li></ul><p>å‰ç«¯é‡‡é›† SDKï¼ˆå…³é”®å®ç°è¦ç‚¹ + ä»£ç ç¤ºä¾‹ï¼‰</p><p>è¦ç‚¹ï¼š</p><ul><li>ä»…åœ¨ document.visibilityState === &#39;visible&#39; æ—¶é‡‡é›†ï¼ˆé¿å… background å¹²æ‰°ï¼‰</li><li>ä¼˜å…ˆç”¨ PerformanceObserver æ•è· LCP / FID / CLS / Paint</li><li>æ”¶é›† performance.getEntriesByType(&#39;resource&#39;)ï¼ˆèµ„æºè€—æ—¶ï¼Œé™é‡é‡‡æ ·ï¼‰</li><li>æ‰¹é‡ä¸ŠæŠ¥ï¼šåˆå¹¶çŸ­æ—¶é—´å†…çš„å¤šæ¡äº‹ä»¶ï¼Œé˜ˆå€¼ï¼ˆæ¡æ•°/æ—¶é•¿ï¼‰è§¦å‘ä¸ŠæŠ¥</li><li>åœ¨ pagehide/unload ç”¨ navigator.sendBeacon å‘é€æœ€åä¸€æ¡æ•°æ®</li><li>æ§åˆ¶ä¸ŠæŠ¥ä½“ç§¯ï¼šæ¯æ¬¡ä¸ŠæŠ¥é™åˆ¶ 10KB å·¦å³ï¼Œè¿‡å¤§æ—¶åªä¸ŠæŠ¥å…³é”®å­—æ®µæˆ–é‡‡æ ·</li></ul><p>js sdk</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>// perf-sdk.js (æµè§ˆå™¨ç«¯æ ¸å¿ƒé€»è¾‘, ç²¾ç®€ç¤ºä¾‹)</span></span>
<span class="line"><span>(function (window) {</span></span>
<span class="line"><span>  const APP = {};</span></span>
<span class="line"><span>  const SEND_URL = &#39;/beacon/perf&#39;;</span></span>
<span class="line"><span>  const BATCH_MAX = 20;</span></span>
<span class="line"><span>  const BATCH_INTERVAL = 5000; // ms</span></span>
<span class="line"><span>  let queue = [];</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  function now() { return Math.round(performance.now()); }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // æ”¶é›† web vitals</span></span>
<span class="line"><span>  function installVitals() {</span></span>
<span class="line"><span>    // LCP</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      const po = new PerformanceObserver((list) =&gt; {</span></span>
<span class="line"><span>        const entries = list.getEntries();</span></span>
<span class="line"><span>        const last = entries[entries.length - 1];</span></span>
<span class="line"><span>        if (last) push({ k: &#39;lcp&#39;, v: Math.round(last.startTime) });</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>      po.observe({ type: &#39;largest-contentful-paint&#39;, buffered: true });</span></span>
<span class="line"><span>    } catch (e) {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // CLS</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      let clsValue = 0;</span></span>
<span class="line"><span>      const po2 = new PerformanceObserver((list) =&gt; {</span></span>
<span class="line"><span>        for (const entry of list.getEntries()) {</span></span>
<span class="line"><span>          if (!entry.hadRecentInput) clsValue += entry.value;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>      po2.observe({ type: &#39;layout-shift&#39;, buffered: true });</span></span>
<span class="line"><span>      window.addEventListener(&#39;visibilitychange&#39;, () =&gt; {</span></span>
<span class="line"><span>        if (document.visibilityState === &#39;hidden&#39;) push({ k: &#39;cls&#39;, v: clsValue });</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    } catch (e) {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // FCP</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      const po3 = new PerformanceObserver((list) =&gt; {</span></span>
<span class="line"><span>        const fcp = list.getEntries()[0];</span></span>
<span class="line"><span>        if (fcp) push({ k: &#39;fcp&#39;, v: Math.round(fcp.startTime) });</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>      po3.observe({ type: &#39;paint&#39;, buffered: true });</span></span>
<span class="line"><span>    } catch (e) {}</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  function captureNavigation() {</span></span>
<span class="line"><span>    const nav = performance.getEntriesByType(&#39;navigation&#39;)[0];</span></span>
<span class="line"><span>    if (nav) {</span></span>
<span class="line"><span>      push({ k: &#39;ttfb&#39;, v: Math.round(nav.responseStart) });</span></span>
<span class="line"><span>      push({ k: &#39;domcontentloaded&#39;, v: Math.round(nav.domContentLoadedEventEnd) });</span></span>
<span class="line"><span>      push({ k: &#39;load&#39;, v: Math.round(nav.loadEventEnd) });</span></span>
<span class="line"><span>    } else if (performance.timing) {</span></span>
<span class="line"><span>      const t = performance.timing;</span></span>
<span class="line"><span>      push({ k: &#39;ttfb&#39;, v: t.responseStart - t.requestStart });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  function push(event) {</span></span>
<span class="line"><span>    const payload = {</span></span>
<span class="line"><span>      ts: Date.now(),</span></span>
<span class="line"><span>      url: location.pathname + location.search,</span></span>
<span class="line"><span>      ua: navigator.userAgent,</span></span>
<span class="line"><span>      navType: performance.getEntriesByType(&#39;navigation&#39;)[0]?.type || &#39;navigate&#39;,</span></span>
<span class="line"><span>      ...event</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>    queue.push(payload);</span></span>
<span class="line"><span>    if (queue.length &gt;= BATCH_MAX) flush();</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  function flush() {</span></span>
<span class="line"><span>    if (queue.length === 0) return;</span></span>
<span class="line"><span>    const body = JSON.stringify(queue.splice(0, BATCH_MAX));</span></span>
<span class="line"><span>    // prefer sendBeacon</span></span>
<span class="line"><span>    if (navigator.sendBeacon) {</span></span>
<span class="line"><span>      navigator.sendBeacon(SEND_URL, body);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>      fetch(SEND_URL, { method: &#39;POST&#39;, keepalive: true, headers: { &#39;Content-Type&#39;: &#39;application/json&#39; }, body }).catch(()=&gt;{});</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // å®šæ—¶å‘é€</span></span>
<span class="line"><span>  setInterval(flush, BATCH_INTERVAL);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // åœ¨å¸è½½é¡µé¢æ—¶å‘é€</span></span>
<span class="line"><span>  window.addEventListener(&#39;pagehide&#39;, flush);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // init</span></span>
<span class="line"><span>  installVitals();</span></span>
<span class="line"><span>  captureNavigation();</span></span>
<span class="line"><span>  APP.flush = flush;</span></span>
<span class="line"><span>  window.__PerfSDK = APP;</span></span>
<span class="line"><span>})(window);</span></span></code></pre></div><!--]--></div></div><h3 id="_14-h5-å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜" tabindex="-1">14. H5 å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜ <a class="header-anchor" href="#_14-h5-å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜" aria-label="Permalink to â€œ14. H5 å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>HTML<code>&lt;meta viewport&gt;</code>æ ‡ç­¾å‘Šè¯‰æµè§ˆå™¨é¡µé¢çš„â€œé€»è¾‘å®½åº¦â€å’Œç¼©æ”¾æ¯”ä¾‹ã€‚</p><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt;</code></p><ul><li><p><code>width=device-width</code>ï¼šé€»è¾‘å®½åº¦ç­‰äºè®¾å¤‡å®½åº¦ï¼›</p></li><li><p><code>initial-scale=1.0</code>ï¼šä¸ç¼©æ”¾ï¼›</p></li><li><p>ç¦æ­¢ç”¨æˆ·ç¼©æ”¾ï¼Œé¿å…å¸ƒå±€é”™ä¹±ã€‚</p></li><li><p>ä½¿ç”¨ rem é€‚é… ;</p></li><li><p>ä½¿ç”¨ vw/vh é€‚é…</p></li></ul><!--]--></div></div><h3 id="_15-å‡½æ•°å¼ç¼–ç¨‹" tabindex="-1">15. å‡½æ•°å¼ç¼–ç¨‹ <a class="header-anchor" href="#_15-å‡½æ•°å¼ç¼–ç¨‹" aria-label="Permalink to â€œ15. å‡½æ•°å¼ç¼–ç¨‹â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒå¼ºè°ƒä½¿ç”¨å‡½æ•°è¿›è¡Œè®¡ç®—ï¼Œå°½é‡é¿å…å¯å˜çŠ¶æ€å’Œå‰¯ä½œç”¨ã€‚</p><ul><li><strong>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼šå‡½æ•°å¯ä»¥åƒå˜é‡ä¸€æ ·ä¼ é€’ã€è¿”å›ã€èµ‹å€¼ã€‚</strong></li><li><strong>é¿å…å…±äº«çŠ¶æ€ï¼šæ•°æ®ä¸å¯å˜ï¼Œæ”¹å˜æ•°æ®ä¼šäº§ç”Ÿæ–°å‰¯æœ¬ã€‚</strong></li><li><strong>ç»„åˆå‡½æ•°ï¼šé€šè¿‡å°å‡½æ•°ç»„åˆå½¢æˆå¤§å‡½æ•°ã€‚</strong></li></ul><table tabindex="0"><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th><th>ç¤ºä¾‹ï¼ˆJSï¼‰</th></tr></thead><tbody><tr><td><strong>çº¯å‡½æ•°ï¼ˆPure Functionï¼‰</strong></td><td>ç›¸åŒè¾“å…¥ï¼Œæ°¸è¿œå¾—åˆ°ç›¸åŒè¾“å‡ºï¼Œä¸ä¿®æ”¹å¤–éƒ¨çŠ¶æ€</td><td><code>const add = (a,b) =&gt; a+b;</code></td></tr><tr><td><strong>ä¸å¯å˜æ•°æ®ï¼ˆImmutableï¼‰</strong></td><td>æ•°æ®ä¸è¢«ä¿®æ”¹ï¼Œæ¯æ¬¡æ“ä½œè¿”å›æ–°å¯¹è±¡/æ•°ç»„</td><td><code>const newArr = [...arr, 4];</code></td></tr><tr><td><strong>é«˜é˜¶å‡½æ•°ï¼ˆHigher-Order Functionï¼‰</strong></td><td>å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è¿”å›å€¼</td><td><code>arr.map(x =&gt; x*2)</code></td></tr><tr><td><strong>å‡½æ•°ç»„åˆï¼ˆFunction Compositionï¼‰</strong></td><td>å°å‡½æ•°ç»„åˆå½¢æˆå¤æ‚é€»è¾‘</td><td><code>const f = x =&gt; x+1; const g = x =&gt; x*2; const h = x =&gt; g(f(x));</code></td></tr><tr><td><strong>é€’å½’ï¼ˆRecursionï¼‰</strong></td><td>FP å¸¸ç”¨ä»£æ›¿å¾ªç¯</td><td><code>const factorial = n =&gt; n&lt;=1?1:n*factorial(n-1);</code></td></tr><tr><td><strong>ä¸å¯å˜çŠ¶æ€ä¸å‰¯ä½œç”¨æ§åˆ¶</strong></td><td>é¿å…ä¿®æ”¹å…¨å±€å˜é‡</td><td>ä½¿ç”¨ <code>map</code>, <code>filter</code>, <code>reduce</code></td></tr></tbody></table><!--]--></div></div><h3 id="_16-jså¦‚ä½•ç»Ÿè®¡é•¿ä»»åŠ¡æ—¶é—´ã€é•¿ä»»åŠ¡æ‰§è¡Œæ¬¡æ•°" tabindex="-1">16. jså¦‚ä½•ç»Ÿè®¡é•¿ä»»åŠ¡æ—¶é—´ã€é•¿ä»»åŠ¡æ‰§è¡Œæ¬¡æ•° <a class="header-anchor" href="#_16-jså¦‚ä½•ç»Ÿè®¡é•¿ä»»åŠ¡æ—¶é—´ã€é•¿ä»»åŠ¡æ‰§è¡Œæ¬¡æ•°" aria-label="Permalink to â€œ16. jså¦‚ä½•ç»Ÿè®¡é•¿ä»»åŠ¡æ—¶é—´ã€é•¿ä»»åŠ¡æ‰§è¡Œæ¬¡æ•°â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p><strong>å½“ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰æ‰§è¡ŒæŸä¸ªä»»åŠ¡è¶…è¿‡ 50ms</strong>ï¼Œå®ƒå°±è¢«æ ‡è®°ä¸ºä¸€ä¸ª â€œLong Taskâ€ã€‚</p><p>æµè§ˆå™¨æä¾›äº† PerformanceObserver æ¥å£ï¼Œç›‘å¬ç±»å‹ä¸º &quot;longtask&quot; çš„æ€§èƒ½æ¡ç›®ã€‚</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span></span></span>
<span class="line"><span>let longTaskCount = 0;</span></span>
<span class="line"><span>let totalLongTaskTime = 0;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if (&#39;PerformanceObserver&#39; in window) {</span></span>
<span class="line"><span>  const observer = new PerformanceObserver((list) =&gt; {</span></span>
<span class="line"><span>    list.getEntries().forEach(entry =&gt; {</span></span>
<span class="line"><span>      // æ¯ä¸ª entry è¡¨ç¤ºä¸€ä¸ªé•¿ä»»åŠ¡</span></span>
<span class="line"><span>      longTaskCount++;</span></span>
<span class="line"><span>      totalLongTaskTime += entry.duration;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      console.log(`[LongTask] ${entry.name} è€—æ—¶ ${entry.duration.toFixed(2)}ms`);</span></span>
<span class="line"><span>      console.log(&#39;æ¥æºï¼š&#39;, item.name, &#39;ç±»å‹ï¼š&#39;, item.entryType, &#39;URLï¼š&#39;, item.containerSrc);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  observer.observe({ entryTypes: [&#39;longtask&#39;] });</span></span>
<span class="line"><span>}</span></span></code></pre></div><!--]--></div></div><h3 id="_18-å¦‚ä½•ç¦æ­¢åˆ«äººè°ƒè¯•è‡ªå·±çš„å‰ç«¯é¡µé¢ä»£ç " tabindex="-1">18. å¦‚ä½•ç¦æ­¢åˆ«äººè°ƒè¯•è‡ªå·±çš„å‰ç«¯é¡µé¢ä»£ç ? <a class="header-anchor" href="#_18-å¦‚ä½•ç¦æ­¢åˆ«äººè°ƒè¯•è‡ªå·±çš„å‰ç«¯é¡µé¢ä»£ç " aria-label="Permalink to â€œ18. å¦‚ä½•ç¦æ­¢åˆ«äººè°ƒè¯•è‡ªå·±çš„å‰ç«¯é¡µé¢ä»£ç ?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li><p>ä»£ç æ··æ·† &amp; å‹ç¼© (obfuscation / minification)</p></li><li><p>ä¸æä¾›ï¼ç¦ç”¨ source-map åœ¨ç”Ÿäº§ç¯å¢ƒ</p></li><li><p>æ£€æµ‹ DevTools æˆ–æ§åˆ¶å°å¼€å¯å¹¶åšé™åˆ¶</p><ul><li>æ— é™ debugger, å®šæ—¶å™¨å†…æ— é™ debugger, æ‰“å¡DevTools å°±ä¼šæ— é™DevTools</li><li>æ— é™ debugger ä»£ç  åŠ å¯† æ··æ·†, ç”¨ eval æ‰§è¡Œ</li><li>åˆ¤æ–­å®½é«˜å˜åŒ–</li></ul></li><li><p>å°†æ ¸å¿ƒé€»è¾‘æˆ–æ•æ„Ÿä¿¡æ¯æ”¾åˆ°æœåŠ¡ç«¯æ‰§è¡Œ</p></li><li><p>é™åˆ¶ APIï¼èµ„æºè®¿é—®ï¼Œé€šè¿‡è®¤è¯ã€æˆæƒã€æ¥å£é˜²æ»¥ç”¨</p></li></ul><!--]--></div></div><h3 id="_19-web-ç³»ç»Ÿé‡Œé¢-å¦‚ä½•å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–" tabindex="-1">19.web ç³»ç»Ÿé‡Œé¢ï¼Œ å¦‚ä½•å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Ÿ <a class="header-anchor" href="#_19-web-ç³»ç»Ÿé‡Œé¢-å¦‚ä½•å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–" aria-label="Permalink to â€œ19.web ç³»ç»Ÿé‡Œé¢ï¼Œ å¦‚ä½•å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Ÿâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>æ€»ä½“ç›®æ ‡: <strong>ä»¥ æœ€å°çš„æ–‡ä»¶ä½“ç§¯ã€æœ€å¿«çš„åŠ è½½é€Ÿåº¦ã€æœ€å¥½çš„è§†è§‰è´¨é‡ å‘ˆç°å›¾ç‰‡ã€‚</strong> å›¾ç‰‡ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒã€æé«˜ç½‘ç«™æ€§èƒ½ã€å‡å°‘æµé‡æ¶ˆè€—å’Œå¢åŠ æœç´¢å¼•æ“æ›å…‰åº¦çš„å…³é”®å› ç´ ã€‚</p><table tabindex="0"><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>å…³é”®æ‰‹æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1ï¸âƒ£ æ ¼å¼ä¼˜åŒ–</td><td>WebP / AVIF / SVG ç­‰æ–°æ ¼å¼</td><td>å‡å°‘ä½“ç§¯ï¼Œå…¼å®¹å›é€€</td></tr><tr><td>2ï¸âƒ£ å‹ç¼©ä¼˜åŒ–</td><td>æ— æŸ / æœ‰æŸå‹ç¼©</td><td>ä½¿ç”¨å·¥å…·æˆ– CI è‡ªåŠ¨å¤„ç†</td></tr><tr><td>3ï¸âƒ£ å°ºå¯¸ä¼˜åŒ–</td><td>å“åº”å¼å›¾ç‰‡ï¼ˆ<code>srcset</code>ï¼‰</td><td>æŒ‰è®¾å¤‡åˆ†å‘åˆé€‚å¤§å°</td></tr><tr><td>4ï¸âƒ£ ç¼“å­˜ä¼˜åŒ–</td><td>HTTP ç¼“å­˜ + CDN ç¼“å­˜</td><td>å‡å°‘é‡å¤åŠ è½½</td></tr><tr><td>5ï¸âƒ£ åŠ è½½ä¼˜åŒ–</td><td>æ‡’åŠ è½½ / å ä½å›¾</td><td>å‡å°‘é¦–å±å‹åŠ›</td></tr><tr><td>6ï¸âƒ£ ä¼ è¾“ä¼˜åŒ–</td><td>CDN åŠ é€Ÿ + Brotli/Gzip å‹ç¼©</td><td>ä¼˜åŒ–ç½‘ç»œä¼ è¾“å±‚</td></tr><tr><td>7ï¸âƒ£ æ¸²æŸ“ä¼˜åŒ–</td><td>ä½¿ç”¨ CSS / SVG æ›¿ä»£ä½å›¾</td><td>å‡å°‘æ¸²æŸ“æ¶ˆè€—</td></tr><tr><td>8ï¸âƒ£ é¢„åŠ è½½ä¸ä¼˜å…ˆçº§æ§åˆ¶</td><td>preload / fetchpriority</td><td>ä¼˜åŒ–å…³é”®èµ„æºåŠ è½½é¡ºåº</td></tr></tbody></table><p>æ ¼å¼ä¼˜åŒ–ï¼šé€‰å¯¹å›¾ç‰‡æ ¼å¼</p><table tabindex="0"><thead><tr><th>ç±»å‹</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>JPEG</strong></td><td>ç…§ç‰‡ã€å¤æ‚è‰²å½©</td><td>ä½“ç§¯å°</td><td>æœ‰æŸå‹ç¼©</td></tr><tr><td><strong>PNG</strong></td><td>å›¾æ ‡ã€é€æ˜å›¾</td><td>æ— æŸ</td><td>ä½“ç§¯å¤§</td></tr><tr><td><strong>SVG</strong></td><td>çŸ¢é‡å›¾ã€å›¾æ ‡</td><td>æ— é™æ”¾å¤§ä¸å¤±çœŸ</td><td>ä¸é€‚åˆç…§ç‰‡</td></tr><tr><td><strong>WebP</strong></td><td>é€šç”¨</td><td>å°ä½“ç§¯ + é€æ˜ + åŠ¨å›¾</td><td>æ—§æµè§ˆå™¨å…¼å®¹æ€§è¾ƒå·®</td></tr><tr><td><strong>AVIF</strong></td><td>ä¸‹ä¸€ä»£æ ¼å¼</td><td>æ¯” WebP å†å° 20%+</td><td>è§£ç æ…¢ï¼Œéƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒ</td></tr><tr><td><strong>GIF â†’ video</strong></td><td>åŠ¨å›¾æ›¿æ¢</td><td>ç”¨ MP4 / WebM</td><td>ä½“ç§¯æ›´å°ï¼Œæµç•…åº¦é«˜</td></tr><tr><td><strong>ä½¿ç”¨ WebP</strong></td><td></td><td></td><td></td></tr></tbody></table><p>æ€§èƒ½ç›‘æ§ä¸æŒ‡æ ‡è¿½è¸ª</p><table tabindex="0"><thead><tr><th>æŒ‡æ ‡</th><th>è¯´æ˜</th><th>ç›‘æ§æ–¹å¼</th></tr></thead><tbody><tr><td><strong>LCP (Largest Contentful Paint)</strong></td><td>é¦–å±æœ€å¤§å›¾ç‰‡åŠ è½½æ—¶é—´</td><td><code>PerformanceObserver</code></td></tr><tr><td><strong>CLS (Cumulative Layout Shift)</strong></td><td>å›¾ç‰‡æœªå ä½å¯¼è‡´å¸ƒå±€æŠ–åŠ¨</td><td>é¢„è®¾å®½é«˜å¯é¿å…</td></tr><tr><td><strong>Image Decode Time</strong></td><td>è§£ç è€—æ—¶</td><td><code>PerformanceEntry</code></td></tr></tbody></table><p><strong>â€œæ–°æ ¼å¼ã€å°ä½“ç§¯ã€å»¶è¿ŸåŠ è½½ã€ç¼“å­˜ç¨³ã€åŠ¨æ€è½¬ã€‚â€</strong> å³ï¼šWebP/AVIF + å‹ç¼© + LazyLoad + CDN + ç¼“å­˜ã€‚</p><!--]--></div></div><h3 id="_20-åç«¯ä¸€æ¬¡æ€§è¿”å›æ ‘å½¢ç»“æ„æ•°æ®-æ•°æ®é‡éå¸¸å¤§-å‰ç«¯è¯¥å¦‚ä½•å¤„ç†" tabindex="-1">20.åç«¯ä¸€æ¬¡æ€§è¿”å›æ ‘å½¢ç»“æ„æ•°æ®ï¼Œæ•°æ®é‡éå¸¸å¤§, å‰ç«¯è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ <a class="header-anchor" href="#_20-åç«¯ä¸€æ¬¡æ€§è¿”å›æ ‘å½¢ç»“æ„æ•°æ®-æ•°æ®é‡éå¸¸å¤§-å‰ç«¯è¯¥å¦‚ä½•å¤„ç†" aria-label="Permalink to â€œ20.åç«¯ä¸€æ¬¡æ€§è¿”å›æ ‘å½¢ç»“æ„æ•°æ®ï¼Œæ•°æ®é‡éå¸¸å¤§, å‰ç«¯è¯¥å¦‚ä½•å¤„ç†ï¼Ÿâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p><strong>â€œåªæ¸²æŸ“ç”¨æˆ·å½“å‰å¯è§çš„éƒ¨åˆ† + æŒ‰éœ€åŠ è½½æˆ–å¼‚æ­¥å±•å¼€ + é«˜æ•ˆæ•°æ®ç»“æ„å­˜å–â€</strong></p><table tabindex="0"><thead><tr><th>ç›®æ ‡</th><th>æ ¸å¿ƒæ€è·¯</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td>é™ä½åˆå§‹æ¸²æŸ“å‹åŠ›</td><td>æ‡’åŠ è½½ã€è™šæ‹ŸåŒ–</td><td>æŒ‰éœ€å±•å¼€ã€æŒ‰éœ€æ¸²æŸ“</td></tr><tr><td>ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½</td><td>è™šæ‹Ÿæ»šåŠ¨ã€diff ä¼˜åŒ–</td><td>react-window / vue-virtual-scroller</td></tr><tr><td>ä¼˜åŒ–æ•°æ®ç»“æ„</td><td>æ‰å¹³åŒ–å­˜å‚¨</td><td>Map + parent/children ç´¢å¼•</td></tr><tr><td>æå‡äº¤äº’æ€§èƒ½</td><td>å¼‚æ­¥æ¸²æŸ“ / åˆ†ç‰‡æ¸²æŸ“</td><td>requestIdleCallback + åˆ†æ‰¹æ¸²æŸ“</td></tr><tr><td>èµ„æºåˆ†å—</td><td>åˆ†é¡µ / åˆ†å±‚åŠ è½½</td><td>åç«¯åˆ†é¡µè¿”å›å­èŠ‚ç‚¹</td></tr></tbody></table><ul><li>åç«¯æŒ‰éœ€è¿”å› <ul><li>å‰ç«¯ä»…è¯·æ±‚éœ€è¦å±•å¼€çš„èŠ‚ç‚¹å­æ ‘</li></ul></li><li>è™šæ‹Ÿæ»šåŠ¨ <ul><li>å³ä½¿æ•°æ®å…¨åœ¨å†…å­˜ä¸­ï¼Œä¹Ÿåªæ¸²æŸ“å¯è§†èŒƒå›´å†…çš„èŠ‚ç‚¹</li></ul></li><li>æ•°æ®æ‰å¹³åŒ– + Map ç´¢å¼•ç»“æ„ <ul><li>å°†åµŒå¥—æ ‘ç»“æ„è½¬æˆæ‰å¹³è¡¨ç»“æ„ï¼Œå¿«é€ŸæŸ¥æ‰¾ä¸å±€éƒ¨æ›´æ–°ã€‚</li></ul></li><li>åˆ†ç‰‡æ¸²æŸ“ï¼ˆChunk Renderingï¼‰ <ul><li>å½“å¿…é¡»ä¸€æ¬¡æ€§æ¸²æŸ“å¤§é‡èŠ‚ç‚¹æ—¶ï¼Œç”¨æ—¶é—´åˆ†ç‰‡è®©ä¸»çº¿ç¨‹å–˜å£æ°” ğŸ˜®</li></ul></li><li>Worker åˆ†çº¿ç¨‹è§£ææ•°æ® <ul><li>åœ¨åå°çº¿ç¨‹ä¸­è§£æ / æ‰å¹³åŒ–æ ‘ï¼Œä¸»çº¿ç¨‹åªè´Ÿè´£æ¸²æŸ“</li></ul></li></ul><p><strong>â€œæ‡’åŠ è½½ã€è™šæ‹ŸåŒ–ã€æ‰å¹³å­˜ã€åˆ†ç‰‡æ¸²ã€åå°è§£ã€‚â€</strong></p><!--]--></div></div><h3 id="_21-ä½ è®¤ä¸ºç»„ä»¶å°è£…çš„ä¸€äº›åŸºæœ¬å‡†åˆ™æ˜¯ä»€ä¹ˆ" tabindex="-1">21.ä½ è®¤ä¸ºç»„ä»¶å°è£…çš„ä¸€äº›åŸºæœ¬å‡†åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_21-ä½ è®¤ä¸ºç»„ä»¶å°è£…çš„ä¸€äº›åŸºæœ¬å‡†åˆ™æ˜¯ä»€ä¹ˆ" aria-label="Permalink to â€œ21.ä½ è®¤ä¸ºç»„ä»¶å°è£…çš„ä¸€äº›åŸºæœ¬å‡†åˆ™æ˜¯ä»€ä¹ˆï¼Ÿâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ç»„ä»¶å°è£…çš„ä¸€äº›åŸºæœ¬å‡†åˆ™åŒ…æ‹¬ï¼š</p><ol><li>å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç»„ä»¶åº”è¯¥å…·æœ‰å•ä¸€çš„åŠŸèƒ½ï¼Œå¹¶ä¸”åªè´Ÿè´£å®Œæˆè¯¥åŠŸèƒ½ï¼Œé¿å…ç»„ä»¶è¿‡äºåºå¤§å’Œå¤ æ‚ã€‚</li><li>é«˜å†…èšä½è€¦åˆï¼šç»„ä»¶å†…éƒ¨çš„å„ä¸ªéƒ¨åˆ†ä¹‹é—´åº”è¯¥ç´§å¯†ç›¸å…³ï¼Œç»„ä»¶ä¸å…¶ä»–ç»„ä»¶ä¹‹é—´åº”è¯¥å°½é‡è§£è€¦ï¼Œå‡å°‘ å¯¹å¤–éƒ¨çš„ä¾èµ–ã€‚</li><li>æ˜“ç”¨æ€§ï¼šç»„ä»¶åº”è¯¥æ˜“äºä½¿ç”¨ï¼Œæä¾›æ¸…æ™°çš„æ¥å£å’Œæ–‡æ¡£ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°ä½¿ç”¨ç»„ä»¶ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šç»„ä»¶åº”è¯¥å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°æ·»åŠ æ–°çš„åŠŸèƒ½æˆ–è¿›è¡Œä¿®æ”¹ï¼ŒåŒæ—¶ä¸å½±å“å·²æœ‰çš„ åŠŸèƒ½ã€‚</li><li>å¯é‡ç”¨æ€§ï¼šç»„ä»¶åº”è¯¥æ˜¯å¯é‡ç”¨çš„ï¼Œèƒ½å¤Ÿåœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå‡å°‘é‡å¤å¼€å‘çš„å·¥ä½œé‡ã€‚</li><li>é«˜æ•ˆæ€§ï¼šç»„ä»¶åº”è¯¥å…·æœ‰é«˜æ€§èƒ½å’Œä½èµ„æºæ¶ˆè€—çš„ç‰¹ç‚¹ï¼Œä¸ä¼šæˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆã€‚</li><li>å®‰å…¨æ€§ï¼šç»„ä»¶åº”è¯¥å…·æœ‰å®‰å…¨æ€§ï¼Œèƒ½å¤Ÿé˜²æ­¢æ¶æ„ä½¿ç”¨æˆ–æ”»å‡»ã€‚</li><li>å¯æµ‹è¯•æ€§ï¼šç»„ä»¶åº”è¯¥å®¹æ˜“è¿›è¡Œå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œä»¥ä¿è¯ç»„ä»¶çš„è´¨é‡å’Œç¨³å®šæ€§</li></ol><!--]--></div></div><h3 id="_22-ç»„ä»¶å‡çº§æ€ä¹ˆè®©ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„äººéƒ½çŸ¥é“ã€‚" tabindex="-1">22. ç»„ä»¶å‡çº§æ€ä¹ˆè®©ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„äººéƒ½çŸ¥é“ã€‚ <a class="header-anchor" href="#_22-ç»„ä»¶å‡çº§æ€ä¹ˆè®©ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„äººéƒ½çŸ¥é“ã€‚" aria-label="Permalink to â€œ22. ç»„ä»¶å‡çº§æ€ä¹ˆè®©ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„äººéƒ½çŸ¥é“ã€‚â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li>è¯­ä¹‰åŒ–ç‰ˆæœ¬, å®‰è£…ä¾èµ–è‡ªåŠ¨å‡çº§</li><li>å¯¹æ¥æœºå™¨äºº, ç¾¤é€šçŸ¥, é‚®ä»¶é€šçŸ¥</li><li>ç»„ä»¶åº“åŠ å…¥è¿è¡Œæ—¶ä»£ç , è¿›è¡Œå¯ç‰ˆæœ¬æ£€æµ‹, ä¸æ˜¯æœ€æ–°æ—¶é€šçŸ¥</li><li>æ–‡æ¡£æ›´æ–°</li><li>å½“é¢é€šçŸ¥</li></ul><!--]--></div></div><h3 id="_23-å¦‚æœè®©ä½ è®¾è®¡é¡¹ç›®è‡ªåŠ¨è®¾è®¡ç»„ä»¶å‡çº§-å¹¶ä¸”å®‰å…¨-ä½ ä¼šæ€ä¹ˆå»è®¾è®¡" tabindex="-1">23. å¦‚æœè®©ä½ è®¾è®¡é¡¹ç›®è‡ªåŠ¨è®¾è®¡ç»„ä»¶å‡çº§ï¼Œå¹¶ä¸”å®‰å…¨ï¼Œä½ ä¼šæ€ä¹ˆå»è®¾è®¡ <a class="header-anchor" href="#_23-å¦‚æœè®©ä½ è®¾è®¡é¡¹ç›®è‡ªåŠ¨è®¾è®¡ç»„ä»¶å‡çº§-å¹¶ä¸”å®‰å…¨-ä½ ä¼šæ€ä¹ˆå»è®¾è®¡" aria-label="Permalink to â€œ23. å¦‚æœè®©ä½ è®¾è®¡é¡¹ç›®è‡ªåŠ¨è®¾è®¡ç»„ä»¶å‡çº§ï¼Œå¹¶ä¸”å®‰å…¨ï¼Œä½ ä¼šæ€ä¹ˆå»è®¾è®¡â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span></span></span>
<span class="line"><span>ç»„ä»¶åº“å‘å¸ƒ</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>   â”œâ”€ ç”Ÿæˆ CHANGELOG</span></span>
<span class="line"><span>   â”œâ”€ æ›´æ–°è¿œç¨‹ç‰ˆæœ¬è®°å½•</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>é¡¹ç›®å¯åŠ¨ / æ„å»º</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>   â”œâ”€ è‡ªåŠ¨æ£€æµ‹ç»„ä»¶ç‰ˆæœ¬</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>   â”œâ”€ åˆ¤æ–­å®‰å…¨æ€§ï¼ˆPATCH / MINOR / MAJORï¼‰</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>   â”œâ”€ æ§åˆ¶å° / UI æé†’å¼€å‘è€…</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>   â””â”€ å¼€å‘è€…é€‰æ‹©ï¼š</span></span>
<span class="line"><span>        â”œâ”€ è‡ªåŠ¨å‡çº§ï¼ˆå®‰å…¨ï¼‰</span></span>
<span class="line"><span>        â””â”€ æ‰‹åŠ¨å‡çº§ï¼ˆMAJORï¼‰</span></span>
<span class="line"><span>   â”‚</span></span>
<span class="line"><span>å‡çº§å®Œæˆ â†’ è‡ªåŠ¨è®°å½•ç‰ˆæœ¬ â†’ æ”¯æŒå›æ»š</span></span></code></pre></div><!--]--></div></div><h3 id="_24-å‰ç«¯-sourcemapåŸç†" tabindex="-1">24. å‰ç«¯ sourcemapåŸç† <a class="header-anchor" href="#_24-å‰ç«¯-sourcemapåŸç†" aria-label="Permalink to â€œ24. å‰ç«¯ sourcemapåŸç†â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>åœ¨ç°ä»£å‰ç«¯æ„å»ºåå˜æˆæµè§ˆå™¨å¯æ‰§è¡Œçš„ å‹ç¼©/æ··æ·†åçš„ JSã€CSS æ–‡ä»¶,å¦‚æœå‡ºé”™ï¼Œæ ¹æœ¬æ‰¾ä¸åˆ°æºæ–‡ä»¶å¯¹åº”çš„è¡Œã€‚äºæ˜¯å¼•å…¥ Source Mapï¼ˆæºç æ˜ å°„æ–‡ä»¶ï¼‰ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>Source Map: <strong>å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œè®°å½•äº†ç¼–è¯‘åä»£ç å’ŒåŸå§‹æºç ä¹‹é—´çš„ æ˜ å°„å…³ç³»ã€‚</strong></p><table tabindex="0"><thead><tr><th>å­—æ®µå</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><strong>version</strong></td><td>Source Map è§„èŒƒç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ 3</td></tr><tr><td><strong>file</strong></td><td>ç”Ÿæˆçš„æ–‡ä»¶åï¼ˆç¼–è¯‘åçš„ï¼‰</td></tr><tr><td><strong>sources</strong></td><td>æºæ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ˆç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼‰</td></tr><tr><td><strong>sourcesContent</strong></td><td>æºæ–‡ä»¶å†…å®¹ï¼ˆå¯é€‰ï¼Œä¾¿äºè°ƒè¯•ï¼‰</td></tr><tr><td><strong>names</strong></td><td>æ‰€æœ‰ç¬¦å·åï¼ˆå˜é‡ã€å‡½æ•°åï¼‰</td></tr><tr><td><strong>mappings</strong></td><td>æœ€å…³é”®çš„éƒ¨åˆ†ï¼è®°å½•äº† â€œç¼–è¯‘å â†’ æºä»£ç â€ çš„æ˜ å°„</td></tr></tbody></table><p>mappings å­—æ®µçš„æ ¸å¿ƒ â€”â€” VLQ ç¼–ç </p><p>mappings æ˜¯ä¸€ä¸²éå¸¸é•¿çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ &quot;AAAAA,QAAQC,IAAI,CAAC&quot;ï¼‰ï¼Œå®ƒæ˜¯ä½¿ç”¨ Base64 VLQï¼ˆVariable Length Quantityï¼‰ ç¼–ç çš„ã€‚</p><p>è¿™ä¸€ä¸²ç¼–ç å¯ä»¥è¿˜åŸå‡ºï¼š</p><ul><li>ç›®æ ‡æ–‡ä»¶çš„è¡Œã€åˆ—ï¼›</li><li>å¯¹åº”çš„æºæ–‡ä»¶ indexï¼›</li><li>æºæ–‡ä»¶çš„è¡Œã€åˆ—ï¼›</li><li>å¯¹åº”ç¬¦å·çš„ indexï¼ˆåœ¨ names ä¸­ï¼‰ã€‚</li></ul><p>æµè§ˆå™¨è°ƒè¯•åŸç†</p><p>å½“ä½ æ‰“å¼€ DevTools å¹¶åŠ è½½ä¸€ä¸ªå¸¦æœ‰ //# sourceMappingURL çš„æ–‡ä»¶æ—¶ï¼š</p><ul><li>æµè§ˆå™¨è¯»å– .map æ–‡ä»¶ï¼›</li><li>æ ¹æ® mappings è¡¨æ¢å¤å‡ºæºæ–‡ä»¶ä¸å‹ç¼©æ–‡ä»¶ä¹‹é—´çš„æ˜ å°„ï¼›</li><li>å¦‚æœ sourcesContent å­˜åœ¨ï¼Œåˆ™ç›´æ¥æ˜¾ç¤ºæºç ï¼›</li><li>å¦åˆ™è¯·æ±‚åŸå§‹ .ts/.jsx æ–‡ä»¶ï¼›</li><li>å½“æ–­ç‚¹æˆ–é”™è¯¯å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨é€šè¿‡æ˜ å°„è¡¨å°†ä½ç½®è¿˜åŸåˆ°æºä»£ç è¡Œåˆ—ã€‚</li></ul><!--]--></div></div><h3 id="_25-æ‘˜è¦å’ŒåŠ å¯†" tabindex="-1">25.æ‘˜è¦å’ŒåŠ å¯†? <a class="header-anchor" href="#_25-æ‘˜è¦å’ŒåŠ å¯†" aria-label="Permalink to â€œ25.æ‘˜è¦å’ŒåŠ å¯†?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><table tabindex="0"><thead><tr><th>æ¦‚å¿µ</th><th>åŠŸèƒ½</th><th>å¯é€†æ€§</th></tr></thead><tbody><tr><td><strong>æ‘˜è¦ï¼ˆHashï¼‰</strong></td><td>æŠŠä»»æ„é•¿åº¦æ•°æ®æ˜ å°„ä¸ºå›ºå®šé•¿åº¦â€œæŒ‡çº¹â€</td><td>âŒ ä¸å¯é€†</td></tr><tr><td><strong>åŠ å¯†ï¼ˆEncryptionï¼‰</strong></td><td>ä¿æŠ¤æ•°æ®æœºå¯†æ€§ï¼Œè½¬æ¢æˆåªæœ‰æˆæƒæ–¹èƒ½è¿˜åŸçš„å¯†æ–‡</td><td>âœ… å¯é€†ï¼ˆéœ€å¯†é’¥ï¼‰</td></tr></tbody></table><p>æ‘˜è¦ç®—æ³•ï¼ˆHash Functionï¼‰æ˜¯æŒ‡ä¸€ç§ å•å‘å‡½æ•°ï¼šæŠŠè¾“å…¥ï¼ˆä»»æ„é•¿åº¦ï¼‰è½¬æˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼ˆæ‘˜è¦ï¼‰ã€‚</p><ul><li>åŸæ–‡ â†’ å“ˆå¸Œå‡½æ•° â†’ æ‘˜è¦</li></ul><p>ç‰¹ç‚¹ï¼š</p><ul><li>åŒæ ·è¾“å…¥ â†’ æ°¸è¿œåŒæ ·è¾“å‡ºï¼›</li><li>ä¸åŒè¾“å…¥ â†’ å‡ ä¹ä¸å¯èƒ½å¾—åˆ°ç›¸åŒè¾“å‡ºï¼›</li><li>ä¸èƒ½ä»è¾“å‡ºåæ¨å‡ºè¾“å…¥ï¼ˆå•å‘ä¸å¯é€†ï¼‰ã€‚</li></ul><p>å¸¸è§ç®—æ³•ï¼šMD5ï¼ˆå·²ä¸å®‰å…¨ï¼‰;SHA-1ï¼ˆä¸å®‰å…¨ï¼‰;SHA-256ã€SHA-512;BLAKE3ï¼ˆæ–°ä¸€ä»£é«˜æ€§èƒ½)</p><p>åŠ å¯†ç®—æ³• æ˜¯å¯é€†çš„ï¼Œç”¨æ¥ä¿è¯æ•°æ®æœºå¯†æ€§ã€‚</p><ul><li>æ˜æ–‡ + å¯†é’¥ â†’ åŠ å¯†ç®—æ³• â†’ å¯†æ–‡</li><li>å¯†æ–‡ + å¯†é’¥ â†’ è§£å¯†ç®—æ³• â†’ æ˜æ–‡</li></ul><p>ç‰¹ç‚¹ï¼š</p><ul><li>å¯é€†ï¼ˆåªè¦æœ‰å¯†é’¥ï¼‰ï¼›</li><li>ä¸»è¦ç›®æ ‡æ˜¯ä¿å¯†ï¼›</li><li>è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯æ•°æ®ï¼›</li><li>å¯¹ç§°/éå¯¹ç§°ä¸¤ç±»ã€‚</li></ul><table tabindex="0"><thead><tr><th>ç±»æ¯”</th><th>æ‘˜è¦ï¼ˆHashï¼‰</th><th>åŠ å¯†ï¼ˆEncryptionï¼‰</th></tr></thead><tbody><tr><td>ğŸ“„ åŠŸèƒ½</td><td>ç”Ÿæˆæ•°æ®æŒ‡çº¹</td><td>éšè—æ•°æ®å†…å®¹</td></tr><tr><td>ğŸ” å¯é€†æ€§</td><td>ä¸å¯é€†</td><td>å¯é€†ï¼ˆéœ€å¯†é’¥ï¼‰</td></tr><tr><td>ğŸ”‘ æ˜¯å¦ç”¨å¯†é’¥</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>ğŸ“ è¾“å‡ºé•¿åº¦</td><td>å›ºå®š</td><td>å¯å˜</td></tr><tr><td>ğŸ§± å…¸å‹ç®—æ³•</td><td>SHA256, MD5</td><td>AES, RSA</td></tr><tr><td>ğŸ¯ åº”ç”¨åœºæ™¯</td><td>å¯†ç æ ¡éªŒã€å®Œæ•´æ€§éªŒè¯</td><td>å®‰å…¨é€šä¿¡ã€å­˜å‚¨åŠ å¯†</td></tr><tr><td>ğŸ§® ä¸¾ä¾‹</td><td>ç™»å½•éªŒè¯ï¼š<code>hash(password)</code> å¯¹æ¯”</td><td>HTTPS åŠ å¯†ä¼ è¾“</td></tr></tbody></table><table tabindex="0"><thead><tr><th>ç±»åˆ«</th><th>æ˜¯å¦ä½¿ç”¨ç›¸åŒå¯†é’¥</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å¯¹ç§°åŠ å¯† (Symmetric Encryption)</strong></td><td>åŠ å¯†å’Œè§£å¯†ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥</td><td>AESã€DESã€3DESã€RC4ã€ChaCha20</td></tr><tr><td><strong>éå¯¹ç§°åŠ å¯† (Asymmetric Encryption)</strong></td><td>ä½¿ç”¨ä¸€å¯¹å¯†é’¥ï¼šå…¬é’¥åŠ å¯†ã€ç§é’¥è§£å¯†</td><td>RSAã€ECCã€ElGamal</td></tr></tbody></table><p>å¯¹ç§°åŠ å¯†ç®—æ³•:</p><ul><li>åŠ å¯†ä¸è§£å¯†éƒ½ç”¨ åŒä¸€æŠŠå¯†é’¥ï¼›</li><li>åŠ å¯†é€Ÿåº¦å¿«ã€æ•ˆç‡é«˜ï¼›</li><li>é€‚åˆå¤§é‡æ•°æ®åŠ å¯†ï¼ˆå¦‚æ–‡ä»¶ã€æ•°æ®åº“ã€é€šä¿¡å†…å®¹ï¼‰ï¼›</li><li>ç¼ºç‚¹ï¼šå¯†é’¥åˆ†å‘å›°éš¾ï¼ˆå¦‚ä½•å®‰å…¨åœ°ç»™å¯¹æ–¹å¯†é’¥ï¼Ÿï¼‰ã€‚</li></ul><p>éå¯¹ç§°åŠ å¯†ç®—æ³•:</p><ul><li>ä½¿ç”¨ ä¸€å¯¹å¯†é’¥ï¼š <ul><li>å…¬é’¥ (Public Key)ï¼šå¯å…¬å¼€ï¼Œç”¨äºåŠ å¯†ï¼›</li><li>ç§é’¥ (Private Key)ï¼šä»…æŒæœ‰äººæ‹¥æœ‰ï¼Œç”¨äºè§£å¯†ã€‚</li></ul></li><li>ä¸éœ€è¦å…±äº«å¯†é’¥ï¼›</li><li>è¿ç®—å¤æ‚ã€é€Ÿåº¦æ…¢ï¼›</li><li>å¸¸ç”¨äºï¼šå¯†é’¥äº¤æ¢ã€æ•°å­—ç­¾åã€èº«ä»½éªŒè¯ã€‚</li></ul><table tabindex="0"><thead><tr><th>åœºæ™¯</th><th>ä½¿ç”¨ç®—æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>HTTPS</td><td>RSA/ECC + AES-GCM</td><td>å¯†é’¥äº¤æ¢ + ä¼ è¾“åŠ å¯†</td></tr><tr><td>JWT ç­¾å</td><td>HMAC-SHA256 / RSA / ECDSA</td><td>é˜²ä¼ªé€ </td></tr><tr><td>æ–‡ä»¶åŠ å¯†</td><td>AES-256-CBC</td><td>é«˜æ•ˆå®‰å…¨</td></tr><tr><td>æ•°æ®åº“åŠ å¯†</td><td>AES / ChaCha20</td><td>ä¿å¯†æ€§</td></tr><tr><td>åŒºå—é“¾åœ°å€ç”Ÿæˆ</td><td>ECC (secp256k1)</td><td>å…¬ç§é’¥ä½“ç³»</td></tr><tr><td>SSHã€Git ç­¾å</td><td>RSA / Ed25519</td><td>èº«ä»½è®¤è¯</td></tr><tr><td>æ•°å­—ç­¾å</td><td>RSA-SHA256 / ECDSA</td><td>ä¸å¯å¦è®¤æ€§</td></tr></tbody></table><!--]--></div></div><h3 id="_26-web-æ— éšœç¢æ€§" tabindex="-1">26.Web æ— éšœç¢æ€§ <a class="header-anchor" href="#_26-web-æ— éšœç¢æ€§" aria-label="Permalink to â€œ26.Web æ— éšœç¢æ€§â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>Web æ— éšœç¢æ€§ï¼ˆAccessibilityï¼‰ æŒ‡çš„æ˜¯ï¼šè®©æ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬è§†éšœã€å¬éšœã€è¡ŒåŠ¨ä¸ä¾¿è€…ç­‰ï¼‰éƒ½èƒ½å¹³ç­‰è®¿é—®ç½‘ç«™å†…å®¹å’ŒåŠŸèƒ½ã€‚</p><p>å°±æ˜¯ï¼š</p><ul><li>å±å¹•é˜…è¯»å™¨ï¼ˆScreen Readerï¼‰èƒ½æ­£ç¡®æœ—è¯»ç½‘é¡µï¼›</li><li>é”®ç›˜ç”¨æˆ·èƒ½æ“ä½œäº¤äº’ï¼›</li><li>è‰²ç›²æˆ–ä½è§†åŠ›ç”¨æˆ·ä¹Ÿèƒ½è¯†åˆ«è§†è§‰ä¿¡æ¯</li></ul><p>ARIAï¼ˆAccessible Rich Internet Applicationsï¼‰ æ˜¯ä¸€ç»„ HTML å±æ€§ï¼Œç”¨äºè®©æ— éšœç¢å·¥å…·ï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ï¼‰èƒ½ç†è§£ç½‘é¡µä¸­çš„â€œè¯­ä¹‰â€å’Œâ€œçŠ¶æ€â€ã€‚</p><table tabindex="0"><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>role</strong></td><td><code>role=&quot;button&quot;</code></td><td>å®šä¹‰å…ƒç´ è§’è‰²ï¼ˆå‘Šè¯‰å±å¹•é˜…è¯»å™¨è¿™æ˜¯ä»€ä¹ˆï¼‰</td></tr><tr><td><strong>aria-label</strong></td><td><code>aria-label=&quot;å…³é—­çª—å£&quot;</code></td><td>ç»™æ— æ–‡æœ¬å…ƒç´ æä¾›å¯è¯»åç§°</td></tr><tr><td><strong>aria-hidden</strong></td><td><code>aria-hidden=&quot;true&quot;</code></td><td>å‘Šè¯‰è¾…åŠ©è®¾å¤‡å¿½ç•¥æ­¤å…ƒç´ </td></tr><tr><td><strong>aria-disabled</strong></td><td><code>aria-disabled=&quot;true&quot;</code></td><td>è¡¨ç¤ºè¯¥å…ƒç´ è¢«ç¦ç”¨</td></tr><tr><td><strong>aria-expanded</strong></td><td><code>aria-expanded=&quot;true&quot;</code></td><td>è¡¨ç¤ºèœå•æˆ–æŠ˜å é¢æ¿æ˜¯å¦å±•å¼€</td></tr><tr><td><strong>aria-checked</strong></td><td><code>aria-checked=&quot;true&quot;</code></td><td>å¤é€‰æ¡†ã€å•é€‰æ¡†å½“å‰é€‰ä¸­çŠ¶æ€</td></tr><tr><td><strong>aria-controls</strong></td><td><code>aria-controls=&quot;menu1&quot;</code></td><td>æŒ‡å®šå½“å‰å…ƒç´ æ§åˆ¶çš„å¦ä¸€ä¸ªå…ƒç´ </td></tr><tr><td><strong>aria-live</strong></td><td><code>aria-live=&quot;polite&quot;</code></td><td>å‘Šè¯‰å±å¹•é˜…è¯»å™¨åŠ¨æ€åŒºåŸŸæ›´æ–°æ–¹å¼</td></tr></tbody></table><p><strong>Web æ— éšœç¢æ€§ï¼ˆa11yï¼‰ = è¯­ä¹‰åŒ– HTML + æ­£ç¡®çš„ ARIA å±æ€§ + é”®ç›˜æ”¯æŒ + å¯æ„ŸçŸ¥çŠ¶æ€ã€‚</strong></p><!--]--></div></div><h3 id="_27-å¦‚ä½•å®ç°ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨-è¯·æè¿°å…¶åŸºæœ¬åŸç†ã€‚" tabindex="-1">27. å¦‚ä½•å®ç°ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨ï¼Ÿè¯·æè¿°å…¶åŸºæœ¬åŸç†ã€‚ <a class="header-anchor" href="#_27-å¦‚ä½•å®ç°ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨-è¯·æè¿°å…¶åŸºæœ¬åŸç†ã€‚" aria-label="Permalink to â€œ27. å¦‚ä½•å®ç°ä¸€ä¸ªæ¨¡å—åŠ è½½å™¨ï¼Ÿè¯·æè¿°å…¶åŸºæœ¬åŸç†ã€‚â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>â€œæ¨¡å—åŠ è½½å™¨â€æ˜¯ JavaScript æ¨¡å—åŒ–ä½“ç³»çš„æ ¸å¿ƒåŸºç¡€ä¹‹ä¸€ã€‚æ— è®ºæ˜¯ CommonJS (Node.js)ã€AMD (RequireJS)ã€ESM (import/export)ï¼Œå®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯åœ¨åšåŒä¸€ä»¶äº‹ï¼š<strong>æŒ‰éœ€åŠ è½½æ¨¡å—ã€è§£æä¾èµ–ã€æ‰§è¡Œæ¨¡å—ä»£ç ã€ç¼“å­˜ç»“æœã€‚</strong></p><p>æ¨¡å—åŠ è½½å™¨çš„ç›®æ ‡:</p><table tabindex="0"><thead><tr><th>é—®é¢˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>1. æ¨¡å—å®šä¹‰</strong></td><td>æ”¯æŒå®šä¹‰æ¨¡å—ï¼ˆå¦‚ <code>define(name, deps, factory)</code>ï¼‰</td></tr><tr><td><strong>2. æ¨¡å—åŠ è½½</strong></td><td>èƒ½åŠ è½½ä¾èµ–æ¨¡å—ï¼ˆå¯èƒ½æ˜¯å¼‚æ­¥æˆ–åŒæ­¥ï¼‰</td></tr><tr><td><strong>3. æ¨¡å—æ‰§è¡Œä¸ç¼“å­˜</strong></td><td>æ‰§è¡Œæ¨¡å—ä»£ç ã€å¯¼å‡ºç»“æœï¼Œå¹¶ç¼“å­˜é¿å…é‡å¤æ‰§è¡Œ</td></tr></tbody></table><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å—è¡¨ï¼ˆç¼“å­˜ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> modules</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å—å -&gt; å¯¼å‡ºå¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> factories</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å—å -&gt; æ¨¡å—å®šä¹‰å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loading</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å—å -&gt; æ˜¯å¦æ­£åœ¨åŠ è½½ä¸­</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®šä¹‰æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">deps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">factory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  factories[name] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { deps, factory };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;math&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [], </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ è½½æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å·²åŠ è½½åˆ™ç›´æ¥è¿”å›</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (modules[name]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> modules[name];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">factories[name]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} not found`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">deps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">factory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> factories[name];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ è½½ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> deps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(require);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ‰§è¡Œå·¥å‚å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> moduleExports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> factory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, args);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç¼“å­˜ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  modules[name] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> moduleExports;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> moduleExports;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;math&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">math</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-scss"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">require(&#39;main&#39;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”œâ”€â–¶ æ£€æŸ¥ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”œâ”€â–¶ æ‰¾åˆ°å®šä¹‰ (factory)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”œâ”€â–¶ åŠ è½½ä¾èµ– [&#39;math&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚        â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚        â””â”€â–¶ é€’å½’ require(&#39;math&#39;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”œâ”€â–¶ æ‰§è¡Œ factory å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â”‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   â””â”€â–¶ ç¼“å­˜å¹¶è¿”å› exports</span></span></code></pre></div><p>æµè§ˆå™¨å’Œ Node.js éƒ½æœ‰å†…å»ºçš„æ¨¡å—åŠ è½½å™¨ï¼šESM çš„æ ¸å¿ƒæ˜¯ é™æ€ä¾èµ–å›¾ï¼ˆåœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½åˆ†æä¾èµ–ï¼‰ï¼Œè€Œä¸æ˜¯åƒ CommonJS é‚£æ ·è¿è¡Œæ—¶åŠ¨æ€è§£æã€‚</p><p>å†…éƒ¨æµç¨‹ï¼š</p><ul><li><p>è§£æ import/exportï¼Œå»ºç«‹ä¾èµ–å›¾</p></li><li><p>é€’å½’åŠ è½½ä¾èµ–æ¨¡å—</p></li><li><p>åˆ›å»º Module Recordï¼ˆè®°å½•å¯¼å‡ºå€¼ï¼‰</p></li><li><p>æ‰§è¡Œæ¨¡å—åˆå§‹åŒ–ä»£ç </p></li><li><p>ç¼“å­˜ç»“æœä¾›å…¶ä»–æ¨¡å—å…±äº«</p></li></ul><p>æ¨¡å—åŠ è½½å™¨çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼š</p><p><strong>ä¾èµ–è§£æ â†’ æ‰§è¡Œå·¥å‚å‡½æ•° â†’ å¯¼å‡ºç¼“å­˜ â†’ å…±äº«ç»“æœã€‚</strong></p><!--]--></div></div><h3 id="_28-å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1">28. å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æœ‰ä»€ä¹ˆåŒºåˆ« <a class="header-anchor" href="#_28-å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æœ‰ä»€ä¹ˆåŒºåˆ«" aria-label="Permalink to â€œ28. å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æœ‰ä»€ä¹ˆåŒºåˆ«â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä½†å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›ç›¸äº’å…³è”çš„ç‰¹ç‚¹ã€‚</p><p>å‰ç«¯æ¶æ„æ˜¯æŒ‡åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå¯¹æ•´ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºçš„ç»„ç»‡ç»“æ„ã€æ¨¡å—åˆ’åˆ†ã€æ¡†æ¶é€‰æ‹©ç­‰æ–¹é¢çš„è®¾è®¡å’Œè§„åˆ’ã€‚å‰ç«¯æ¶æ„çš„ç›®æ ‡æ˜¯ä¸ºäº†æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯é‡ç”¨æ€§ï¼Œä»¥åŠä¼˜åŒ–å‰ç«¯åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚å¸¸è§çš„å‰ç«¯æ¶æ„åŒ…æ‹¬MVCï¼ˆModel-View-Controllerï¼‰ã€MVVMï¼ˆModel-View-ViewModelï¼‰ç­‰ã€‚</p><p>å‰ç«¯å·¥ç¨‹åŒ–æ˜¯æŒ‡ä½¿ç”¨å„ç§å·¥å…·ã€æŠ€æœ¯å’Œæµç¨‹å¯¹å‰ç«¯å¼€å‘è¿‡ç¨‹è¿›è¡Œç®¡ç†å’Œä¼˜åŒ–ï¼Œä»¥æé«˜å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œèƒ½åŠ›ã€‚å‰ç«¯å·¥ç¨‹åŒ–çš„ç›®æ ‡æ˜¯é€šè¿‡è§„èŒƒåŒ–å’Œè‡ªåŠ¨åŒ–çš„æ–¹å¼ï¼Œè§£å†³å‰ç«¯å¼€å‘ä¸­çš„é‡å¤åŠ³åŠ¨ã€ä½æ•ˆç‡ã€ä»£ç è´¨é‡ä¸ç¨³å®šç­‰é—®é¢˜ã€‚å‰ç«¯å·¥ç¨‹åŒ–åŒ…æ‹¬ä»£ç ç®¡ç†ã€ä»£ç è§„èŒƒã€æ¨¡å—åŒ–å¼€å‘ã€æ„å»ºå·¥å…·ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æŒç»­é›†æˆå’Œéƒ¨ç½²ã€æ€§èƒ½ä¼˜åŒ–ã€æ–‡æ¡£å’ŒçŸ¥è¯†ç®¡ç†ç­‰æ–¹é¢ã€‚</p><p>è™½ç„¶å‰ç«¯æ¶æ„å’Œå‰ç«¯å·¥ç¨‹åŒ–æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä½†å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€äº›ç›¸ä¼¼çš„ç›®æ ‡å’Œæ–¹æ³•ã€‚å‰ç«¯æ¶æ„å…³æ³¨çš„æ˜¯å‰ç«¯åº”ç”¨ç¨‹åºçš„ç»“æ„å’Œè®¾è®¡ï¼Œè€Œå‰ç«¯å·¥ç¨‹åŒ–å…³æ³¨çš„æ˜¯å‰ç«¯å¼€å‘çš„æµç¨‹å’Œå·¥å…·çš„ä½¿ç”¨ã€‚å‰ç«¯æ¶æ„å¯ä»¥é€šè¿‡å‰ç«¯å·¥ç¨‹åŒ–çš„æ–¹å¼å®ç°ï¼Œè€Œå‰ç«¯å·¥ç¨‹åŒ–å¯ä»¥æä¾›æ”¯æŒå’Œä¿éšœï¼Œä»¥å®ç°è‰¯å¥½çš„å‰ç«¯æ¶æ„ã€‚</p><!--]--></div></div><h3 id="_29-monorepo" tabindex="-1">29. monorepo <a class="header-anchor" href="#_29-monorepo" aria-label="Permalink to â€œ29. monorepoâ€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>Monorepoï¼ˆMono Repositoryï¼‰ æŒ‡çš„æ˜¯ å°†å¤šä¸ªé¡¹ç›®ï¼ˆæ¨¡å—ã€åŒ…ã€æœåŠ¡ï¼‰æ”¾åœ¨åŒä¸€ä¸ªä»£ç ä»“åº“ä¸­è¿›è¡Œç®¡ç†ï¼Œè€Œä¸æ˜¯æ¯ä¸ªé¡¹ç›®å•ç‹¬ä¸€ä¸ªä»“åº“ï¼ˆPolyrepoï¼‰ã€‚</p><p>æ ¸å¿ƒç†å¿µï¼š<strong>ä¸€ä¸ªä»“åº“ç®¡ç†å¤šä¸ªç›¸å…³æˆ–ä¸ç›¸å…³é¡¹ç›®ï¼Œç»Ÿä¸€ç‰ˆæœ¬æ§åˆ¶å’Œä¾èµ–ç®¡ç†ã€‚</strong></p><table tabindex="0"><thead><tr><th>ä¼˜ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç»Ÿä¸€ä¾èµ–ç®¡ç†</strong></td><td>æ‰€æœ‰é¡¹ç›®å…±äº«ä¾èµ–ï¼Œé¿å…é‡å¤å®‰è£…ã€ç‰ˆæœ¬å†²çª</td></tr><tr><td><strong>è·¨é¡¹ç›®åä½œæ–¹ä¾¿</strong></td><td>ä¿®æ”¹ä¸€ä¸ªåº•å±‚åº“æ—¶ï¼Œå¯ä»¥åŒæ­¥æ›´æ–°ä¾èµ–å®ƒçš„å…¶ä»–æ¨¡å—</td></tr><tr><td><strong>ç»Ÿä¸€æ„å»ºå’Œæµ‹è¯•</strong></td><td>å¯ä»¥é€šè¿‡ CI/CD ä¸€æ¬¡æ€§æ„å»ºæˆ–æµ‹è¯•å¤šä¸ªæ¨¡å—</td></tr><tr><td><strong>ä»£ç å¤ç”¨</strong></td><td>å…¬å…±æ¨¡å—ç›´æ¥å¼•ç”¨ï¼Œä¸å¿…å‘å¸ƒåˆ° npm/ç§æœ‰åŒ…ç®¡ç†å™¨</td></tr><tr><td><strong>ç‰ˆæœ¬ç®¡ç†ç»Ÿä¸€</strong></td><td>å¯ä»¥ç»Ÿä¸€å‘å¸ƒç‰ˆæœ¬ç­–ç•¥ï¼Œä¾‹å¦‚æ‰€æœ‰æ¨¡å—åŒæ—¶å‡çº§</td></tr></tbody></table><table tabindex="0"><thead><tr><th>ç¼ºç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä»“åº“ä½“ç§¯å¤§</strong></td><td>éšç€é¡¹ç›®å¢å¤šï¼Œå…‹éš†å’Œæ‹‰å–æ—¶é—´å¢é•¿</td></tr><tr><td><strong>æ„å»ºå¤æ‚</strong></td><td>éœ€è¦æŒ‰éœ€æ„å»ºï¼Œé¿å…æ¯æ¬¡éƒ½æ„å»ºæ‰€æœ‰é¡¹ç›®</td></tr><tr><td><strong>æƒé™ç®¡ç†å¤æ‚</strong></td><td>æœ‰äº›æ¨¡å—å¯èƒ½éœ€è¦ä¸åŒå›¢é˜Ÿæƒé™</td></tr><tr><td><strong>å·¥å…·è¦æ±‚é«˜</strong></td><td>éœ€è¦å·¥å…·æ”¯æŒä¾èµ–åˆ†æã€æ„å»ºä¼˜åŒ–ã€ç‰ˆæœ¬æ§åˆ¶</td></tr></tbody></table><p>lerna:</p><p>æ ¸å¿ƒåŠŸèƒ½æ˜¯å¸®åŠ©ä½ åœ¨ä¸€ä¸ªä»“åº“é‡Œç®¡ç†å¤šä¸ª npm åŒ…ï¼Œå®ç°ï¼š</p><ul><li>ä¾èµ–å®‰è£…è‡ªåŠ¨åŒ–</li><li>åŒ…ç‰ˆæœ¬ç®¡ç†</li><li>è·¨åŒ…å¼•ç”¨ç®¡ç†</li><li>å‘å¸ƒæµç¨‹è‡ªåŠ¨åŒ–</li></ul><p>Lerna æœ‰ä¸¤ç§ä¸»è¦æ¨¡å¼ï¼š</p><ul><li><p>Fixed/Locked Modeï¼ˆå›ºå®šç‰ˆæœ¬æ¨¡å¼ï¼‰</p><ul><li>æ‰€æœ‰åŒ…ä½¿ç”¨ç»Ÿä¸€ç‰ˆæœ¬å·</li><li>å‘å¸ƒæ—¶ï¼Œæ‰€æœ‰åŒ…ç‰ˆæœ¬åŒæ—¶æ›´æ–°</li><li>é€‚åˆ tightly coupled çš„åŒ…é›†åˆ</li></ul></li><li><p>Independent Modeï¼ˆç‹¬ç«‹ç‰ˆæœ¬æ¨¡å¼ï¼‰</p><ul><li>æ¯ä¸ªåŒ…å¯ä»¥ç‹¬ç«‹ç‰ˆæœ¬</li><li>ä¿®æ”¹å“ªä¸ªåŒ…å°±åªå‘å¸ƒé‚£ä¸ªåŒ…</li><li>é€‚åˆ loosely coupled çš„åŒ…é›†åˆ</li></ul></li></ul><p>Lerna çš„ä¸»è¦åŠŸèƒ½:</p><table tabindex="0"><thead><tr><th>åŠŸèƒ½</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>Bootstrap</strong></td><td>è‡ªåŠ¨å®‰è£…åŒ…ä¾èµ–ï¼Œå¹¶å»ºç«‹è·¨åŒ…é“¾æ¥ï¼ˆlinkï¼‰</td></tr><tr><td><strong>Publish</strong></td><td>å‘å¸ƒåŒ…åˆ° npmï¼ˆæ”¯æŒå›ºå®šæˆ–ç‹¬ç«‹æ¨¡å¼ï¼‰</td></tr><tr><td><strong>Version</strong></td><td>ç®¡ç†ç‰ˆæœ¬å·æ›´æ–°ï¼ˆæ”¯æŒè¯­ä¹‰åŒ–ç‰ˆæœ¬ SemVerï¼‰</td></tr><tr><td><strong>Exec</strong></td><td>åœ¨æ‰€æœ‰åŒ…é‡Œæ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ <code>npm test</code></td></tr><tr><td><strong>Run</strong></td><td>åœ¨æŒ‡å®šåŒ…ä¸­è¿è¡Œè„šæœ¬ï¼Œä¾‹å¦‚ <code>lerna run build --scope ui-lib</code></td></tr><tr><td><strong>Diff</strong></td><td>æ˜¾ç¤ºè‡ªä¸Šæ¬¡å‘å¸ƒä»¥æ¥ä¿®æ”¹è¿‡çš„åŒ…</td></tr></tbody></table><!--]--></div></div><h3 id="_30-å¾ˆå¤šwebå‰ç«¯æ¡†æ¶é‡Œé¢ä¼šæœ‰çº¦å®šå¼è·¯ç”±-ä»–ä»¬æ˜¯å¦‚ä½•å®ç°çš„" tabindex="-1">30.å¾ˆå¤šwebå‰ç«¯æ¡†æ¶é‡Œé¢ä¼šæœ‰çº¦å®šå¼è·¯ç”±ï¼Œ ä»–ä»¬æ˜¯å¦‚ä½•å®ç°çš„ <a class="header-anchor" href="#_30-å¾ˆå¤šwebå‰ç«¯æ¡†æ¶é‡Œé¢ä¼šæœ‰çº¦å®šå¼è·¯ç”±-ä»–ä»¬æ˜¯å¦‚ä½•å®ç°çš„" aria-label="Permalink to â€œ30.å¾ˆå¤šwebå‰ç«¯æ¡†æ¶é‡Œé¢ä¼šæœ‰çº¦å®šå¼è·¯ç”±ï¼Œ ä»–ä»¬æ˜¯å¦‚ä½•å®ç°çš„â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>çº¦å®šå¼è·¯ç”±ï¼ˆConvention over Configurationï¼ŒCoCï¼‰æ˜¯ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Next.jsã€Nuxt.jsã€VitePress ç­‰ï¼‰å¹¿æ³›é‡‡ç”¨çš„è·¯ç”±å®ç°æ–¹å¼ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯<strong>æ ¹æ®æ–‡ä»¶ç›®å½•ç»“æ„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™å†—é•¿çš„è·¯ç”±è¡¨</strong>ã€‚</p><p>æ ¸å¿ƒåŸç†: çº¦å®šå¼è·¯ç”±é€šè¿‡ä»¥ä¸‹æ­¥éª¤å·¥ä½œï¼š</p><ul><li>æ–‡ä»¶ç³»ç»Ÿæ‰«æï¼šæ¡†æ¶åœ¨æ„å»ºæˆ–è¿è¡Œæ—¶éå†æŒ‡å®šç›®å½•ï¼ˆå¦‚pages/ï¼‰ï¼Œè·å–æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç»“æ„ã€‚</li><li>è·¯å¾„æ˜ å°„è§„åˆ™ï¼šå°†æ–‡ä»¶è·¯å¾„è½¬æ¢ä¸ºè·¯ç”±è·¯å¾„ï¼Œä¾‹å¦‚ï¼š <ul><li>pages/index.js â†’ /</li><li>pages/posts/[id].js â†’ /posts/:idï¼ˆåŠ¨æ€è·¯ç”±ï¼‰</li></ul></li><li>è·¯ç”±é…ç½®ç”Ÿæˆï¼šæ ¹æ®æ˜ å°„è§„åˆ™ç”Ÿæˆè·¯ç”±é…ç½®å¯¹è±¡ï¼ˆå¦‚ React Router æˆ– Vue Router æ‰€éœ€çš„æ ¼å¼ï¼‰ã€‚</li><li>è¿è¡Œæ—¶åŒ¹é…ï¼šåœ¨ç”¨æˆ·è®¿é—®æ—¶ï¼Œæ ¹æ® URL åŒ¹é…å¯¹åº”çš„ç»„ä»¶ã€‚</li></ul><!--]--></div></div><h3 id="_31-å‰ç«¯ä»£ç ä¸­æœ‰å¤ªå¤šçš„if-å¦‚ä½•å¤„ç†" tabindex="-1">31. å‰ç«¯ä»£ç ä¸­æœ‰å¤ªå¤šçš„if å¦‚ä½•å¤„ç†? <a class="header-anchor" href="#_31-å‰ç«¯ä»£ç ä¸­æœ‰å¤ªå¤šçš„if-å¦‚ä½•å¤„ç†" aria-label="Permalink to â€œ31. å‰ç«¯ä»£ç ä¸­æœ‰å¤ªå¤šçš„if å¦‚ä½•å¤„ç†?â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><ul><li><p>ä½¿ç”¨ æ˜ å°„è¡¨ï¼ˆå¯¹è±¡å­—å…¸ï¼‰</p><ul><li>ç”¨å¯¹è±¡ä»£æ›¿å¤šå±‚ if/elseï¼Œè®©ç±»å‹å’Œè¡Œä¸ºè§£è€¦ã€‚</li></ul></li><li><p>ä½¿ç”¨ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</p><ul><li>å½“æ¯ç§ç±»å‹é€»è¾‘å¤æ‚ï¼Œä¸ä»…ä»…æ˜¯ç»„ä»¶æ—¶ï¼Œå°±å¯ä»¥ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li></ul></li><li><p>å¤šæ€ï¼ˆClassç»§æ‰¿ï¼‰+ å·¥å‚æ¨¡å¼</p><ul><li>å½“ç±»å‹ä¹‹é—´æœ‰å…±æ€§é€»è¾‘æ—¶ï¼Œä½¿ç”¨ç»§æ‰¿æ¯” if æ›´ä¼˜é›…ã€‚</li></ul></li><li><p>çŠ¶æ€æœºï¼ˆState Machineï¼‰</p><ul><li>å¦‚æœ if æ˜¯åŸºäºâ€œçŠ¶æ€æµè½¬â€çš„, å¯ä»¥æ”¹ä¸ºçŠ¶æ€æœº</li></ul></li></ul><!--]--></div></div><h3 id="_32-å¤§å›¾ç‰‡ç“¦ç‰‡æœºåˆ¶" tabindex="-1">32. å¤§å›¾ç‰‡ç“¦ç‰‡æœºåˆ¶ <a class="header-anchor" href="#_32-å¤§å›¾ç‰‡ç“¦ç‰‡æœºåˆ¶" aria-label="Permalink to â€œ32. å¤§å›¾ç‰‡ç“¦ç‰‡æœºåˆ¶â€">â€‹</a></h3><div class="vp-collapse" data-v-4585a904><div class="vp-collapse__summary" data-v-4585a904><!--[-->â–º å±•å¼€<!--]--></div><div class="vp-collapse__content" style="display:none;" data-v-4585a904><!--[--><p>ã€Œå¤§å›¾ç‰‡ç“¦ç‰‡æœºåˆ¶ã€ï¼ˆImage Tiling Systemï¼‰æ˜¯å‰ç«¯ä¸­å¤„ç† è¶…é«˜åˆ†è¾¨ç‡å›¾ç‰‡ï¼ˆä¾‹å¦‚ç—…ç†åˆ‡ç‰‡ã€å«æ˜Ÿåœ°å›¾ã€å¤©æ–‡å½±åƒã€è‰ºæœ¯ç”»é«˜æ¸…æ‰«æï¼‰çš„å…³é”®æŠ€æœ¯ã€‚</p><p>ç›´æ¥åŠ è½½ä¸€å¼ å›¾ç‰‡ä¼šç½‘ç»œè¿‡å¤§,å†…å­˜ä¸å¤Ÿ,æ¸²æŸ“æ…¢,ä½“éªŒæŸ¥</p><p>ç“¦ç‰‡æœºåˆ¶çš„ç›®æ ‡ï¼š<strong>â€œåªåŠ è½½å¹¶æ¸²æŸ“å½“å‰è§†å£å†…éœ€è¦çš„éƒ¨åˆ†å›¾åƒã€‚â€</strong></p><p>æ ¸å¿ƒæ€æƒ³ï¼šæŠŠè¶…å¤§å›¾ç‰‡é¢„å¤„ç†æˆ<strong>åˆ†å±‚ï¼ˆå¤šåˆ†è¾¨ç‡ï¼‰+ åˆ†å—ï¼ˆç“¦ç‰‡ï¼‰</strong>çš„å°å›¾åƒå—ã€‚æµè§ˆå™¨åªæŒ‰éœ€åŠ è½½è¿™äº›å°å—ï¼ˆtileï¼‰ï¼Œåœ¨ç”»å¸ƒä¸Šæ‹¼æ¥æ˜¾ç¤ºã€‚</p><p>æ ¸å¿ƒåŸç†ï¼šé‡‘å­—å¡”å¤šåˆ†è¾¨ç‡ç»“æ„ï¼ˆImage Pyramidï¼‰å’Œåœ°å›¾ç“¦ç‰‡å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯åæ ‡ä¸å†æ˜¯ç»çº¬åº¦ï¼Œè€Œæ˜¯åƒç´ åæ ‡ã€‚</p><p>å‡è®¾åŸå§‹å›¾ç‰‡æ˜¯ 16384 Ã— 16384ï¼šæ¯å±‚éƒ½æ˜¯ä¸€ä¸ªç¼©æ”¾ç‰ˆæœ¬çš„å›¾ç‰‡ï¼Œæ¯å±‚éƒ½åˆ‡å‰²æˆè‹¥å¹²ç“¦ç‰‡ï¼ˆtileï¼‰ã€‚</p><table tabindex="0"><thead><tr><th>å±‚çº§</th><th>ç¼©æ”¾æ¯”ä¾‹</th><th>å°ºå¯¸</th><th>ç“¦ç‰‡æ•° (256px ä¸€å—)</th></tr></thead><tbody><tr><td>L0</td><td>1/16</td><td>1024 Ã— 1024</td><td>4Ã—4</td></tr><tr><td>L1</td><td>1/8</td><td>2048 Ã— 2048</td><td>8Ã—8</td></tr><tr><td>L2</td><td>1/4</td><td>4096 Ã— 4096</td><td>16Ã—16</td></tr><tr><td>L3</td><td>1/2</td><td>8192 Ã— 8192</td><td>32Ã—32</td></tr><tr><td>L4</td><td>1</td><td>16384 Ã— 16384</td><td>64Ã—64</td></tr></tbody></table><p>ç“¦ç‰‡å‘½åä¸å­˜å‚¨è§„åˆ™:<code>/tiles/{level}/{row}_{col}.jpg</code> å¦‚: <code>/tiles/4/12_22.jpg</code> è¡¨ç¤ºï¼šç¬¬ 4 å±‚ï¼ˆæœ€é«˜åˆ†è¾¨ç‡ï¼‰;ç¬¬ 12 è¡Œã€ç¬¬ 22 åˆ— çš„ç“¦ç‰‡ã€‚</p><p>å‰ç«¯åŠ è½½é€»è¾‘ï¼ˆæ ¸å¿ƒç®—æ³•ï¼‰</p><ul><li><ol><li>æ ¹æ®ç¼©æ”¾å±‚çº§é€‰æ‹©å›¾å±‚</li></ol><ul><li>æ ¹æ®å½“å‰ zoomï¼ˆæˆ– scaleï¼‰é€‰æ‹©æœ€åˆé€‚çš„åˆ†è¾¨ç‡å±‚çº§ã€‚zoom è¶Šå¤§ â†’ å±‚çº§è¶Šé«˜ â†’ å›¾ç‰‡è¶Šæ¸…æ™°ã€‚</li></ul></li><li><ol start="2"><li>æ ¹æ®è§†çª—èŒƒå›´è®¡ç®—éœ€è¦çš„ç“¦ç‰‡ç´¢å¼•</li></ol><ul><li></li></ul></li><li><p>å¼‚æ­¥åŠ è½½ + åˆæˆæ¸²æŸ“</p></li><li><p>ç¼©æ”¾/å¹³ç§»/æ—‹è½¬å¤„ç†</p><ul><li>img æ¸²æŸ“å† canvas ä¸Š, ç»“åˆçŸ©é˜µå˜æ¢å®ç°å¹³æ»‘äº¤äº’</li></ul></li></ul><table tabindex="0"><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>æŠ€æœ¯ç‚¹</th></tr></thead><tbody><tr><td>ç½‘ç»œä¼˜åŒ–</td><td>å»¶è¿ŸåŠ è½½ + LRU ç¼“å­˜ + å¹¶å‘æ§åˆ¶</td></tr><tr><td>æ¸²æŸ“ä¼˜åŒ–</td><td>OffscreenCanvas æˆ– WebGL çº¹ç†åˆæˆ</td></tr><tr><td>å†…å­˜æ§åˆ¶</td><td>é™åˆ¶åœ¨å±ç“¦ç‰‡æ•°é‡ï¼ˆä¾‹å¦‚ 9Ã—9 å¯è§åŒºåŸŸï¼‰</td></tr><tr><td>æ¨¡ç³Šé¢„è§ˆ</td><td>å…ˆåŠ è½½ä½åˆ†è¾¨ç‡å±‚ï¼Œå†åŠ è½½é«˜åˆ†è¾¨ç‡ç“¦ç‰‡</td></tr><tr><td>åˆ†å¸§æ¸²æŸ“</td><td>ä½¿ç”¨ <code>requestAnimationFrame</code> æ‰¹æ¬¡ç»˜åˆ¶</td></tr><tr><td>æ—‹è½¬ä¼˜åŒ–</td><td>æ—‹è½¬çŸ©é˜µç¼“å­˜ï¼Œé¿å…å…¨å›¾é‡ç»˜</td></tr></tbody></table><p>å®è·µä¸­é‡‡ç”¨ OpenSeadragon åº“</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span> â”‚         å¤§å›¾ç“¦ç‰‡æµè§ˆå™¨         â”‚</span></span>
<span class="line"><span> â”‚                             â”‚</span></span>
<span class="line"><span> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚</span></span>
<span class="line"><span> â”‚  â”‚è§†çª—è§†å£(Viewport)â”‚  â† ä»…æ¸²æŸ“å±å¹•å†…çš„ç“¦ç‰‡ â”‚</span></span>
<span class="line"><span> â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜            â”‚</span></span>
<span class="line"><span> â”‚         â”‚è®¡ç®—å¯è§åŒºåŸŸ           â”‚</span></span>
<span class="line"><span> â”‚         â–¼                     â”‚</span></span>
<span class="line"><span> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚</span></span>
<span class="line"><span> â”‚  â”‚   ç“¦ç‰‡ç®¡ç†å™¨(TileManager)â”‚â† è´Ÿè´£åŠ è½½/ç¼“å­˜ |</span></span>
<span class="line"><span> â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚</span></span>
<span class="line"><span> â”‚         â”‚ç½‘ç»œè¯·æ±‚             â”‚</span></span>
<span class="line"><span> â”‚         â–¼                     â”‚</span></span>
<span class="line"><span> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚</span></span>
<span class="line"><span> â”‚  â”‚   ç“¦ç‰‡ç¼“å­˜(TileCache) â”‚â† LRU ç¼“å­˜æœºåˆ¶ |</span></span>
<span class="line"><span> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚</span></span>
<span class="line"><span> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div><!--]--></div></div><hr><ol><li><p>å¦‚ä½•è®¾è®¡ä¸€ä¸ªUIç»„ä»¶åº“? æ¶æ„ â†’ æŠ€æœ¯é€‰å‹ â†’ ç»„ä»¶è®¾è®¡ â†’ å·¥ç¨‹åŒ– â†’ å‘å¸ƒç»´æŠ¤ æ¶æ„é€‰å‹: ç»„ä»¶æ¨¡å‹, æ ·å¼æ–¹æ¡ˆ, æ„å»ºå·¥å…·, è¯­è¨€ è®¾è®¡åŸåˆ™: é¢—ç²’åº¦, å¯é…ç½®æ€§, ä¸»é¢˜åŒ– &amp; æ ·å¼æ‰©å±•, æ— éšœç¢, å›½é™…åŒ– å·¥ç¨‹åŒ–: æŒ‰éœ€åŠ è½½ æ–‡æ¡£ä¸æ¼”ç¤º æµ‹è¯• ci/cd å‘å¸ƒ å¼€æ”¾æµç¨‹: å®šä¹‰ APIï¼ˆpropsã€äº‹ä»¶ã€æ ·å¼æ¥å£ï¼‰=&gt; è®¾è®¡äº¤äº’ï¼ˆè€ƒè™‘é¼ æ ‡ã€è§¦å±ã€é”®ç›˜ï¼‰=&gt; å®ç°é€»è¾‘ï¼ˆReact Hooks / Vue Composition APIï¼‰=&gt; å†™æµ‹è¯•ç”¨ä¾‹ï¼ˆpropsã€è¾¹ç•Œæƒ…å†µã€äº¤äº’ï¼‰=&gt; å†™æ–‡æ¡£ + Demoï¼ˆStorybook / VitePressï¼‰=&gt; å¸ƒç‰ˆæœ¬ (è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†)</p></li><li><p>å‰ç«¯æ¶æ„è®¾è®¡ æ¨¡å—åŒ–, çŠ¶æ€ç®¡ç†, ç»„ä»¶è®¾è®¡, ä»£ç åˆ†å‰², åä½œç­–ç•¥</p></li><li><p>å‰ç«¯æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ– å‰ç«¯åŸ‹ç‚¹ + å¼‚å¸¸æ—¥å¿—ä¸ŠæŠ¥(Sentry è‡ªç ”)</p></li><li><p>å‰ç«¯å›½é™…åŒ–ä¸å¯æ‰©å±•æ€§</p></li><li><p>è®¾è®¡ä¸€ä¸ªæ‹–æ‹‰æ‹½çš„ä½å¹³å°è¦æ³¨æ„ä»€ä¹ˆ</p></li><li><p>ä½œä¸ºå‰ç«¯ TL å¦‚ä½•ç®¡ç†å›¢é˜Ÿ æŠ€æœ¯æŠŠå…³äºº,å›¢é˜Ÿèµ‹èƒ½è€…,é¡¹ç›®æ¨åŠ¨è€… æŠ€æœ¯ç®¡ç†: åˆ¶å®šè§„èŒƒ,æŠŠæ§æ¶æ„,ä»£ç è¯„å®¡,æŠ€æœ¯æ²‰æ·€ äººå‘˜ç®¡ç†: ä»»åŠ¡æ‹†è§£,äººå°½å…¶æ‰,æˆé•¿è§„åˆ’ é¡¹ç›®ç®¡ç†: æ˜ç¡®ç›®æ ‡,å¯è§†åŒ–è¿›åº¦,é£é™©é¢„è­¦,è·¨å›¢é˜Ÿæ²Ÿé€š</p></li><li><p>ä¸€èˆ¬æ€ä¹ˆåšä»£ç é‡æ„</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-d668f7cc data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/myKMS/knowledge/base/js.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>js</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"ai_index.md\":\"Bf0m5gM2\",\"algorithm_index.md\":\"Djk1iw4J\",\"api-examples.md\":\"DT6A4-_P\",\"book_vue_1.md\":\"D9jihhfd\",\"index.md\":\"2ru8Ebp6\",\"interview_2025.md\":\"KfzA0qoa\",\"interview_code.md\":\"ColE19_b\",\"interview_index.md\":\"DCJEcbIP\",\"knowledge_base_app.md\":\"B-og-tQg\",\"knowledge_base_css.md\":\"QNGXhZBk\",\"knowledge_base_js.md\":\"DlZl4TTW\",\"knowledge_base_nodejs.md\":\"B2Ragjo6\",\"knowledge_browser_http.md\":\"fm7FRw8x\",\"knowledge_browser_index.md\":\"bflL4FMa\",\"knowledge_browser_websecurity.md\":\"DAtXeUcq\",\"knowledge_framework_angular.md\":\"CyTHqri7\",\"knowledge_framework_app.md\":\"BB41ome5\",\"knowledge_framework_electron.md\":\"CM1OeWvB\",\"knowledge_framework_react.md\":\"C3zKC3jn\",\"knowledge_framework_taro.md\":\"JyVpdrlk\",\"knowledge_framework_vite.md\":\"DoZLR3Cs\",\"knowledge_framework_vue.md\":\"CoZvO_xh\",\"knowledge_framework_wx.md\":\"DHlb7cxh\",\"readme.md\":\"Dvz-XUcs\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"çŸ¥è¯†åº“\",\"description\":\"çŸ¥è¯†åº“\",\"base\":\"/myKMS/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"é¢è¯•\",\"link\":\"/interview/code\"},{\"text\":\"æ¡†æ¶\",\"link\":\"/knowledge/framework/react\"},{\"text\":\"æµè§ˆå™¨\",\"link\":\"/knowledge/browser/http\"}],\"sidebar\":[{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"js\",\"link\":\"/knowledge/base/js\"},{\"text\":\"node\",\"link\":\"/knowledge/base/nodejs\"},{\"text\":\"css\",\"link\":\"/knowledge/base/css\"}]},{\"text\":\"interview\",\"items\":[{\"text\":\"2025\",\"link\":\"/interview/2025\"},{\"text\":\"code\",\"link\":\"/interview/code\"},{\"text\":\"å¼€æ”¾æ€§é—®é¢˜\",\"link\":\"/interview/index\"}]},{\"text\":\"æ¡†æ¶\",\"items\":[{\"text\":\"react\",\"link\":\"/knowledge/framework/react\"},{\"text\":\"vue\",\"link\":\"/knowledge/framework/vue\"},{\"text\":\"å·¥ç¨‹åŒ–\",\"link\":\"/knowledge/framework/vite\"},{\"text\":\"electron\",\"link\":\"/knowledge/framework/electron\"}]},{\"text\":\"æµè§ˆå™¨\",\"items\":[{\"text\":\"browser\",\"link\":\"/knowledge/browser/index\"},{\"text\":\"http\",\"link\":\"/knowledge/browser/http\"},{\"text\":\"webå®‰å…¨\",\"link\":\"/knowledge/browser/webSecurity\"}]},{\"text\":\"è¯»ä¹¦ç¬”è®°\",\"items\":[{\"text\":\"vue.js è®¾è®¡ä¸å®è·µ\",\"link\":\"/book/vue_1\"}]},{\"text\":\"ç®—æ³•\",\"items\":[{\"text\":\"æ€»\",\"link\":\"/algorithm/index\"}]},{\"text\":\"AI\",\"items\":[{\"text\":\"ai\",\"link\":\"/ai/index\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/xingyuanlong/myKMS\"}],\"outline\":{\"level\":[2,3],\"label\":\"é¡µé¢å¯¼èˆª\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>